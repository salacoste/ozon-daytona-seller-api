# Pricing Strategy API Documentation

## Overview

Pricing Strategy API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –Ω–∞ OZON. API –≤–∫–ª—é—á–∞–µ—Ç **12 –º–µ—Ç–æ–¥–æ–≤** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏, —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### Key Features

- üéØ **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- üè™ **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üìä **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º
- üîÑ **–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- üìà **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏** - –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- ‚è±Ô∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

## Available Methods

### Strategy Management Methods

#### createStrategy()
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

```typescript
const strategy = await pricingStrategyApi.createStrategy({
  name: '–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è Electronics',
  description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏',
  strategy_type: 'COMPETITIVE',
  settings: {
    margin_min: 0.10, // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ 10%
    margin_max: 0.25, // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ 25%
    update_frequency: 'hourly',
    competitor_analysis_depth: 'deep',
    price_adjustment_speed: 'medium'
  }
});

console.log(`–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å ID: ${strategy.result?.strategy_id}`);
```

#### getStrategiesList()
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

```typescript
const strategies = await pricingStrategyApi.getStrategiesList({
  limit: 50,
  offset: 0,
  filter: {
    status: 'active',
    strategy_type: 'COMPETITIVE'
  }
});

strategies.strategies?.forEach(strategy => {
  console.log(`üìà ${strategy.name} (${strategy.status})`);
  console.log(`   –û–ø–∏—Å–∞–Ω–∏–µ: ${strategy.description}`);
  console.log(`   –¢–æ–≤–∞—Ä–æ–≤: ${strategy.products_count || 0}`);
  console.log(`   –°–æ–∑–¥–∞–Ω–∞: ${new Date(strategy.created_at).toLocaleDateString()}`);
});
```

#### getStrategyInfo()
–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

```typescript
const strategyInfo = await pricingStrategyApi.getStrategyInfo({
  strategy_id: 'strategy_123'
});

console.log(`üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è: ${strategyInfo.strategy?.name}`);
console.log(`üìä –°—Ç–∞—Ç—É—Å: ${strategyInfo.strategy?.status}`);
console.log(`‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:`, strategyInfo.strategy?.settings);
console.log(`üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:`, strategyInfo.strategy?.performance_stats);
```

#### updateStrategy()
–û–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

```typescript
await pricingStrategyApi.updateStrategy({
  strategy_id: 'strategy_123',
  name: '–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è Electronics',
  description: '–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏',
  settings: {
    margin_min: 0.12,
    margin_max: 0.30,
    update_frequency: 'every_30_minutes'
  }
});

console.log('‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
```

#### deleteStrategy()
–£–¥–∞–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–∫—Ä–æ–º–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö).

```typescript
await pricingStrategyApi.deleteStrategy({
  strategy_id: 'strategy_123'
});

console.log('üóëÔ∏è –°—Ç—Ä–∞—Ç–µ–≥–∏—è —É–¥–∞–ª–µ–Ω–∞');
```

### Product Management Methods

#### addItemsToStrategy()
–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

```typescript
const result = await pricingStrategyApi.addItemsToStrategy({
  strategy_id: 'strategy_123',
  items: [
    {
      sku: '123456789',
      settings: {
        min_price: 1000,
        max_price: 5000,
        target_margin: 0.20,
        priority: 'high'
      }
    },
    {
      sku: '987654321',
      settings: {
        min_price: 500,
        max_price: 2000,
        target_margin: 0.15,
        priority: 'medium'
      }
    }
  ]
});

console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: ${result.added_count || 0}`);
console.log(`‚ùå –û—à–∏–±–æ–∫: ${result.errors?.length || 0}`);
```

#### getStrategyItems()
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

```typescript
const items = await pricingStrategyApi.getStrategyItems({
  strategy_id: 'strategy_123',
  limit: 100,
  offset: 0
});

items.items?.forEach(item => {
  console.log(`üì¶ SKU: ${item.sku}`);
  console.log(`   –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: ${item.current_price}‚ÇΩ`);
  console.log(`   –¶–µ–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: ${item.competitor_min_price}-${item.competitor_max_price}‚ÇΩ`);
  console.log(`   –°—Ç–∞—Ç—É—Å: ${item.status}`);
  console.log(`   –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${new Date(item.last_updated).toLocaleString()}`);
});
```

#### removeItemsFromStrategy()
–£–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

```typescript
const result = await pricingStrategyApi.removeItemsFromStrategy({
  strategy_id: 'strategy_123',
  sku_list: ['123456789', '987654321']
});

console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: ${result.removed_count || 0}`);
```

#### getStrategyIDsByItemIDs()
–ù–∞—Ö–æ–¥–∏—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–≤—è–∑–∞–Ω—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã.

```typescript
const strategiesByItems = await pricingStrategyApi.getStrategyIDsByItemIDs({
  product_ids: ['123456789', '987654321']
});

strategiesByItems.items?.forEach(item => {
  console.log(`üì¶ –¢–æ–≤–∞—Ä ${item.product_id}: —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ [${item.strategy_ids?.join(', ')}]`);
});
```

### Competition Analysis Methods

#### getCompetitors()
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —Ü–µ–Ω—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.

```typescript
const competitors = await pricingStrategyApi.getCompetitors({
  sku: ['123456789', '987654321'],
  limit: 20,
  include_details: true
});

competitors.competitors?.forEach(competitor => {
  console.log(`üè™ ${competitor.store_name}`);
  console.log(`   –¢–æ–≤–∞—Ä: ${competitor.product_name}`);
  console.log(`   –¶–µ–Ω–∞: ${competitor.price} ${competitor.currency}`);
  console.log(`   –†–µ–π—Ç–∏–Ω–≥: ${competitor.rating}/5 (${competitor.reviews_count} –æ—Ç–∑—ã–≤–æ–≤)`);
  console.log(`   –°—Å—ã–ª–∫–∞: ${competitor.url}`);
});
```

#### getStrategyItemInfo()
–ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –≤–∫–ª—é—á–∞—è —Ü–µ–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤.

```typescript
const itemInfo = await pricingStrategyApi.getStrategyItemInfo({
  strategy_id: 'strategy_123',
  sku: '123456789'
});

console.log(`üìä –ê–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–∞ SKU: ${itemInfo.sku}`);
console.log(`üí∞ –í–∞—à–∞ —Ü–µ–Ω–∞: ${itemInfo.current_price}‚ÇΩ`);
console.log(`üè™ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã:`);
itemInfo.competitors?.forEach(competitor => {
  console.log(`   ${competitor.store_name}: ${competitor.price}‚ÇΩ`);
});
console.log(`üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: ${itemInfo.recommended_price}‚ÇΩ`);
console.log(`üìä –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è –º–∞—Ä–∂–∞: ${itemInfo.predicted_margin}%`);
```

### Strategy Control Methods

#### updateStrategyStatus()
–ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–∞–∫—Ç–∏–≤–Ω–∞/–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞).

```typescript
await pricingStrategyApi.updateStrategyStatus({
  strategy_id: 'strategy_123',
  status: 'active' // 'active' | 'inactive' | 'paused'
});

console.log('‚úÖ –°—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–∑–º–µ–Ω—ë–Ω');
```

## TypeScript Interfaces

### Request Types

```typescript
interface CreatePricingStrategyRequest {
  name: string;
  description?: string;
  strategy_type: StrategyType;
  settings?: StrategySettings;
}

interface StrategyType {
  type: 'COMPETITIVE' | 'MARGIN_BASED' | 'DYNAMIC' | 'PREMIUM_PRICING' | 'MARKET_PENETRATION';
}

interface StrategySettings {
  margin_min?: number;
  margin_max?: number;
  update_frequency?: 'hourly' | 'daily' | 'every_30_minutes' | 'real_time';
  competitor_analysis_depth?: 'basic' | 'deep' | 'comprehensive';
  price_adjustment_speed?: 'slow' | 'medium' | 'fast' | 'aggressive';
  max_price_change_percent?: number;
  competitor_count_limit?: number;
}

interface AddStrategyItemsRequest {
  strategy_id: string;
  items: StrategyItem[];
}

interface StrategyItem {
  sku: string;
  settings?: ItemSettings;
}

interface ItemSettings {
  min_price?: number;
  max_price?: number;
  target_margin?: number;
  priority?: 'low' | 'medium' | 'high' | 'critical';
  custom_rules?: CustomPricingRule[];
}

interface CustomPricingRule {
  condition: string;
  action: string;
  value: number;
}

interface GetCompetitorsRequest {
  sku: string[];
  limit?: number;
  include_details?: boolean;
  competitor_types?: string[];
}

interface GetStrategyListRequest {
  limit?: number;
  offset?: number;
  filter?: StrategyFilter;
}

interface StrategyFilter {
  status?: 'active' | 'inactive' | 'paused';
  strategy_type?: string;
  created_after?: string;
}
```

### Response Types

```typescript
interface CreatePricingStrategyResponse {
  result?: {
    strategy_id: string;
    status: string;
  };
}

interface GetStrategyListResponse {
  strategies?: PricingStrategy[];
  total_count?: number;
  has_next?: boolean;
}

interface PricingStrategy {
  strategy_id: string;
  name: string;
  description?: string;
  status: 'active' | 'inactive' | 'paused';
  strategy_type: string;
  settings?: StrategySettings;
  products_count?: number;
  created_at: string;
  updated_at?: string;
  performance_stats?: PerformanceStats;
}

interface PerformanceStats {
  total_revenue_change?: number;
  avg_margin_improvement?: number;
  price_updates_count?: number;
  competitor_beat_rate?: number;
}

interface GetCompetitorsResponse {
  competitors?: Competitor[];
  total_found?: number;
}

interface Competitor {
  store_name: string;
  product_name: string;
  price: number;
  currency: string;
  rating?: number;
  reviews_count?: number;
  url?: string;
  availability?: 'in_stock' | 'out_of_stock' | 'limited';
  shipping_cost?: number;
  last_updated?: string;
}

interface GetStrategyItemsResponse {
  items?: StrategyItemInfo[];
  total_count?: number;
  has_next?: boolean;
}

interface StrategyItemInfo {
  sku: string;
  current_price: number;
  competitor_min_price?: number;
  competitor_max_price?: number;
  recommended_price?: number;
  status: 'active' | 'inactive' | 'error';
  last_updated: string;
  settings?: ItemSettings;
  performance?: ItemPerformance;
}

interface ItemPerformance {
  revenue_change?: number;
  margin_change?: number;
  sales_volume_change?: number;
  competitor_position?: number;
}
```

## Usage Examples

### Basic Strategy Setup

```typescript
import { OzonApi } from 'bmad-ozon-seller-api';

const ozonApi = new OzonApi({
  clientId: 'your-client-id',
  apiKey: 'your-api-key'
});

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
async function setupCompetitiveStrategy() {
  try {
    // 1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
    const strategy = await ozonApi.pricingStrategy.createStrategy({
      name: 'Aggressive Electronics Strategy',
      description: '–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ —Å –±—ã—Å—Ç—Ä–æ–π —Ä–µ–∞–∫—Ü–∏–µ–π –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤',
      strategy_type: 'COMPETITIVE',
      settings: {
        margin_min: 0.08,
        margin_max: 0.22,
        update_frequency: 'every_30_minutes',
        competitor_analysis_depth: 'comprehensive',
        price_adjustment_speed: 'fast',
        max_price_change_percent: 0.15,
        competitor_count_limit: 10
      }
    });
    
    if (!strategy.result?.strategy_id) {
      throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é');
    }
    
    const strategyId = strategy.result.strategy_id;
    console.log(`‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–æ–∑–¥–∞–Ω–∞: ${strategyId}`);
    
    // 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    const products = [
      {
        sku: 'SMARTPHONE_PREMIUM',
        settings: {
          min_price: 50000,
          max_price: 150000,
          target_margin: 0.18,
          priority: 'high'
        }
      },
      {
        sku: 'LAPTOP_GAMING',
        settings: {
          min_price: 80000,
          max_price: 200000,
          target_margin: 0.15,
          priority: 'high'
        }
      },
      {
        sku: 'HEADPHONES_WIRELESS',
        settings: {
          min_price: 5000,
          max_price: 25000,
          target_margin: 0.20,
          priority: 'medium'
        }
      }
    ];
    
    const addResult = await ozonApi.pricingStrategy.addItemsToStrategy({
      strategy_id: strategyId,
      items: products
    });
    
    console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: ${addResult.added_count || 0}`);
    
    // 3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
    await ozonApi.pricingStrategy.updateStrategyStatus({
      strategy_id: strategyId,
      status: 'active'
    });
    
    console.log('üöÄ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
    
    return strategyId;
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:', error);
    throw error;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const strategyId = await setupCompetitiveStrategy();
```

### Advanced Competition Analysis

```typescript
// –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π —Å—Ä–µ–¥—ã
async function performCompetitionAnalysis(skus: string[]) {
  try {
    // –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞—Ö
    const competitors = await ozonApi.pricingStrategy.getCompetitors({
      sku: skus,
      limit: 50,
      include_details: true,
      competitor_types: ['marketplace', 'direct_seller', 'retailer']
    });
    
    console.log('üîç –ê–ù–ê–õ–ò–ó –ö–û–ù–ö–£–†–ï–ù–¢–ù–û–ô –°–†–ï–î–´');
    console.log('============================');
    
    const analysis: Record<string, any> = {};
    
    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –ø–æ SKU
    competitors.competitors?.forEach(competitor => {
      const sku = competitor.sku || 'unknown';
      if (!analysis[sku]) {
        analysis[sku] = {
          competitors: [],
          minPrice: Infinity,
          maxPrice: 0,
          avgPrice: 0,
          totalCompetitors: 0
        };
      }
      
      analysis[sku].competitors.push(competitor);
      analysis[sku].minPrice = Math.min(analysis[sku].minPrice, competitor.price);
      analysis[sku].maxPrice = Math.max(analysis[sku].maxPrice, competitor.price);
      analysis[sku].totalCompetitors++;
    });
    
    // –í—ã—á–∏—Å–ª–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑
    Object.entries(analysis).forEach(([sku, data]: [string, any]) => {
      data.avgPrice = data.competitors.reduce((sum: number, c: any) => sum + c.price, 0) / data.totalCompetitors;
      
      console.log(`\nüì¶ SKU: ${sku}`);
      console.log(`üè™ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: ${data.totalCompetitors}`);
      console.log(`üí∞ –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: ${data.minPrice.toLocaleString()} - ${data.maxPrice.toLocaleString()}‚ÇΩ`);
      console.log(`üìä –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: ${data.avgPrice.toLocaleString()}‚ÇΩ`);
      console.log(`üìà –†–∞–∑–±—Ä–æ—Å: ${((data.maxPrice - data.minPrice) / data.avgPrice * 100).toFixed(1)}%`);
      
      // –¢–æ–ø-3 —Å–∞–º—ã—Ö –¥–µ—à—ë–≤—ã—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞
      const topCompetitors = data.competitors
        .sort((a: any, b: any) => a.price - b.price)
        .slice(0, 3);
      
      console.log('üéØ –¢–æ–ø-3 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞ –ø–æ —Ü–µ–Ω–µ:');
      topCompetitors.forEach((competitor: any, index: number) => {
        console.log(`   ${index + 1}. ${competitor.store_name}: ${competitor.price.toLocaleString()}‚ÇΩ (‚≠ê${competitor.rating || 'N/A'})`);
      });
    });
    
    return analysis;
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏:', error);
    throw error;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const competitionAnalysis = await performCompetitionAnalysis([
  'SMARTPHONE_PREMIUM',
  'LAPTOP_GAMING',
  'HEADPHONES_WIRELESS'
]);
```

## Complex Scenarios

### Automated Strategy Management System

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:

```typescript
class PricingStrategyManager {
  constructor(private ozonApi: OzonApi) {}
  
  /**
   * –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ç–æ–≤–∞—Ä–æ–≤
   */
  async createCategoryBasedStrategies(categories: CategoryStrategy[]) {
    const results: StrategyResult[] = [];
    
    for (const category of categories) {
      try {
        // –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const strategy = await this.ozonApi.pricingStrategy.createStrategy({
          name: `${category.name} Auto Strategy`,
          description: category.description,
          strategy_type: category.strategyType,
          settings: category.settings
        });
        
        if (!strategy.result?.strategy_id) {
          throw new Error(`–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è ${category.name}`);
        }
        
        const strategyId = strategy.result.strategy_id;
        
        // –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
        if (category.products.length > 0) {
          const addResult = await this.ozonApi.pricingStrategy.addItemsToStrategy({
            strategy_id: strategyId,
            items: category.products
          });
          
          console.log(`üì¶ ${category.name}: –¥–æ–±–∞–≤–ª–µ–Ω–æ ${addResult.added_count || 0} —Ç–æ–≤–∞—Ä–æ–≤`);
        }
        
        // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
        await this.ozonApi.pricingStrategy.updateStrategyStatus({
          strategy_id: strategyId,
          status: 'active'
        });
        
        results.push({
          category: category.name,
          strategyId,
          status: 'success',
          productsAdded: category.products.length
        });
        
        console.log(`‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è ${category.name} —Å–æ–∑–¥–∞–Ω–∞ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞`);
        
        // –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
        await new Promise(resolve => setTimeout(resolve, 1000));
      } catch (error) {
        results.push({
          category: category.name,
          status: 'failed',
          error: error.message
        });
        
        console.error(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è ${category.name}:`, error);
      }
    }
    
    return results;
  }
  
  /**
   * –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
   */
  async monitorAndOptimizeStrategies() {
    try {
      // –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
      const strategies = await this.ozonApi.pricingStrategy.getStrategiesList({
        filter: { status: 'active' },
        limit: 100
      });
      
      const optimizations: OptimizationResult[] = [];
      
      for (const strategy of strategies.strategies || []) {
        console.log(`üîç –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: ${strategy.name}`);
        
        // –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
        const items = await this.ozonApi.pricingStrategy.getStrategyItems({
          strategy_id: strategy.strategy_id,
          limit: 1000
        });
        
        // –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
        const itemAnalysis = await this.analyzeStrategyItems(items.items || []);
        
        // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        const optimizationNeeded = this.identifyOptimizations(strategy, itemAnalysis);
        
        if (optimizationNeeded.length > 0) {
          // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
          const result = await this.applyOptimizations(strategy.strategy_id, optimizationNeeded);
          optimizations.push(result);
          
          console.log(`üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π: ${optimizationNeeded.length}`);
        } else {
          console.log(`‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è ${strategy.name} —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ`);
        }
      }
      
      return optimizations;
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π:', error);
      throw error;
    }
  }
  
  /**
   * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä—ã–Ω–∫–∞
   */
  async respondToMarketChanges(marketConditions: MarketCondition[]) {
    const responses: MarketResponse[] = [];
    
    for (const condition of marketConditions) {
      try {
        console.log(`üìà –†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä—ã–Ω–æ—á–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ: ${condition.type}`);
        
        // –ù–∞–π—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º
        const affectedStrategies = await this.findAffectedStrategies(condition);
        
        for (const strategyId of affectedStrategies) {
          // –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
          const strategyInfo = await this.ozonApi.pricingStrategy.getStrategyInfo({
            strategy_id: strategyId
          });
          
          if (!strategyInfo.strategy) continue;
          
          // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
          const adjustments = this.calculateMarketAdjustments(condition, strategyInfo.strategy);
          
          if (adjustments.updateSettings) {
            // –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
            await this.ozonApi.pricingStrategy.updateStrategy({
              strategy_id: strategyId,
              settings: adjustments.newSettings
            });
          }
          
          if (adjustments.statusChange) {
            // –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
            await this.ozonApi.pricingStrategy.updateStrategyStatus({
              strategy_id: strategyId,
              status: adjustments.newStatus
            });
          }
          
          responses.push({
            condition: condition.type,
            strategyId,
            adjustments: adjustments.changes,
            result: 'applied'
          });
          
          console.log(`üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è ${strategyId} –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫ —É—Å–ª–æ–≤–∏—é ${condition.type}`);
        }
      } catch (error) {
        responses.push({
          condition: condition.type,
          result: 'failed',
          error: error.message
        });
        
        console.error(`‚ùå –û—à–∏–±–∫–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ ${condition.type}:`, error);
      }
    }
    
    return responses;
  }
  
  /**
   * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
   */
  async generatePerformanceReport() {
    try {
      const strategies = await this.ozonApi.pricingStrategy.getStrategiesList({
        limit: 100
      });
      
      const report: PerformanceReport = {
        generated_at: new Date().toISOString(),
        total_strategies: strategies.strategies?.length || 0,
        active_strategies: 0,
        inactive_strategies: 0,
        performance_summary: {
          total_revenue_impact: 0,
          avg_margin_improvement: 0,
          best_performing_strategy: null,
          worst_performing_strategy: null
        },
        strategy_details: []
      };
      
      for (const strategy of strategies.strategies || []) {
        if (strategy.status === 'active') {
          report.active_strategies++;
        } else {
          report.inactive_strategies++;
        }
        
        // –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        const items = await this.ozonApi.pricingStrategy.getStrategyItems({
          strategy_id: strategy.strategy_id,
          limit: 1000
        });
        
        const strategyPerformance = this.calculateStrategyPerformance(strategy, items.items || []);
        report.strategy_details.push(strategyPerformance);
        
        // –û–±–Ω–æ–≤–∏—Ç—å –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        if (strategyPerformance.revenue_impact) {
          report.performance_summary.total_revenue_impact += strategyPerformance.revenue_impact;
        }
      }
      
      // –ù–∞–π—Ç–∏ –ª—É—á—à—É—é –∏ —Ö—É–¥—à—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
      if (report.strategy_details.length > 0) {
        report.performance_summary.best_performing_strategy = report.strategy_details
          .reduce((best, current) => 
            (current.efficiency_score || 0) > (best.efficiency_score || 0) ? current : best
          );
        
        report.performance_summary.worst_performing_strategy = report.strategy_details
          .reduce((worst, current) => 
            (current.efficiency_score || 0) < (worst.efficiency_score || 0) ? current : worst
          );
        
        report.performance_summary.avg_margin_improvement = 
          report.strategy_details.reduce((sum, s) => sum + (s.avg_margin_improvement || 0), 0) / 
          report.strategy_details.length;
      }
      
      console.log('üìä –û–¢–ß–Å–¢ –ü–û –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò –°–¢–†–ê–¢–ï–ì–ò–ô');
      console.log('=====================================');
      console.log(`üìà –í—Å–µ–≥–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π: ${report.total_strategies}`);
      console.log(`üü¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö: ${report.active_strategies}`);
      console.log(`üî¥ –ù–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö: ${report.inactive_strategies}`);
      console.log(`üí∞ –û–±—â–µ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –≤—ã—Ä—É—á–∫—É: ${report.performance_summary.total_revenue_impact?.toLocaleString()}‚ÇΩ`);
      console.log(`üìä –°—Ä–µ–¥–Ω–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ –º–∞—Ä–∂–∏: ${report.performance_summary.avg_margin_improvement?.toFixed(2)}%`);
      
      if (report.performance_summary.best_performing_strategy) {
        console.log(`üèÜ –õ—É—á—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: ${report.performance_summary.best_performing_strategy.strategy_name}`);
      }
      
      return report;
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞:', error);
      throw error;
    }
  }
  
  private async analyzeStrategyItems(items: StrategyItemInfo[]) {
    return items.map(item => ({
      sku: item.sku,
      performance_score: this.calculateItemPerformanceScore(item),
      needs_optimization: this.itemNeedsOptimization(item),
      suggested_changes: this.suggestItemChanges(item)
    }));
  }
  
  private identifyOptimizations(strategy: PricingStrategy, itemAnalysis: any[]) {
    const optimizations: Optimization[] = [];
    
    // –ê–Ω–∞–ª–∏–∑ –æ–±—â–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
    const lowPerformingItems = itemAnalysis.filter(item => item.performance_score < 0.6);
    
    if (lowPerformingItems.length > itemAnalysis.length * 0.3) {
      optimizations.push({
        type: 'strategy_settings_adjustment',
        reason: '–ë–æ–ª–µ–µ 30% —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∏–∑–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
        action: 'adjust_aggressiveness'
      });
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    if (strategy.settings?.update_frequency === 'hourly' && itemAnalysis.length > 100) {
      optimizations.push({
        type: 'update_frequency_optimization',
        reason: '–°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤',
        action: 'reduce_frequency'
      });
    }
    
    return optimizations;
  }
  
  private async applyOptimizations(strategyId: string, optimizations: Optimization[]) {
    // –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
    return {
      strategyId,
      optimizations: optimizations.length,
      success: true
    };
  }
  
  private async findAffectedStrategies(condition: MarketCondition): Promise<string[]> {
    // –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π, –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Ä—ã–Ω–æ—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏
    return [];
  }
  
  private calculateMarketAdjustments(condition: MarketCondition, strategy: PricingStrategy) {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
    return {
      updateSettings: false,
      statusChange: false,
      newSettings: {},
      newStatus: 'active' as const,
      changes: []
    };
  }
  
  private calculateItemPerformanceScore(item: StrategyItemInfo): number {
    // –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á—ë—Ç–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–∞
    let score = 0.5;
    
    if (item.performance?.revenue_change) {
      score += Math.min(item.performance.revenue_change / 100, 0.3);
    }
    
    if (item.performance?.margin_change) {
      score += Math.min(item.performance.margin_change / 50, 0.2);
    }
    
    return Math.max(0, Math.min(1, score));
  }
  
  private itemNeedsOptimization(item: StrategyItemInfo): boolean {
    return this.calculateItemPerformanceScore(item) < 0.6;
  }
  
  private suggestItemChanges(item: StrategyItemInfo): string[] {
    const suggestions: string[] = [];
    
    if (item.current_price < (item.competitor_min_price || 0)) {
      suggestions.push('–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–Ω—ã');
    }
    
    if (item.performance?.margin_change && item.performance.margin_change < 0) {
      suggestions.push('–ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–µ–ª–µ–≤—É—é –º–∞—Ä–∂—É');
    }
    
    return suggestions;
  }
  
  private calculateStrategyPerformance(strategy: PricingStrategy, items: StrategyItemInfo[]) {
    return {
      strategy_id: strategy.strategy_id,
      strategy_name: strategy.name,
      items_count: items.length,
      efficiency_score: items.reduce((sum, item) => sum + this.calculateItemPerformanceScore(item), 0) / items.length,
      revenue_impact: strategy.performance_stats?.total_revenue_change || 0,
      avg_margin_improvement: strategy.performance_stats?.avg_margin_improvement || 0
    };
  }
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
interface CategoryStrategy {
  name: string;
  description: string;
  strategyType: StrategyType;
  settings: StrategySettings;
  products: StrategyItem[];
}

interface StrategyResult {
  category: string;
  strategyId?: string;
  status: 'success' | 'failed';
  productsAdded?: number;
  error?: string;
}

interface OptimizationResult {
  strategyId: string;
  optimizations: number;
  success: boolean;
}

interface MarketCondition {
  type: 'competitor_price_drop' | 'demand_increase' | 'supply_shortage' | 'seasonal_change';
  severity: 'low' | 'medium' | 'high';
  affected_categories: string[];
  data: Record<string, any>;
}

interface MarketResponse {
  condition: string;
  strategyId?: string;
  adjustments?: string[];
  result: 'applied' | 'failed';
  error?: string;
}

interface Optimization {
  type: string;
  reason: string;
  action: string;
}

interface PerformanceReport {
  generated_at: string;
  total_strategies: number;
  active_strategies: number;
  inactive_strategies: number;
  performance_summary: {
    total_revenue_impact: number;
    avg_margin_improvement: number;
    best_performing_strategy: any;
    worst_performing_strategy: any;
  };
  strategy_details: any[];
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
const strategyManager = new PricingStrategyManager(ozonApi);

// –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
const categoryStrategies: CategoryStrategy[] = [
  {
    name: 'Electronics',
    description: '–í—ã—Å–æ–∫–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω–æ–π —Ü–µ–Ω',
    strategyType: 'COMPETITIVE',
    settings: {
      margin_min: 0.08,
      margin_max: 0.20,
      update_frequency: 'every_30_minutes',
      price_adjustment_speed: 'fast'
    },
    products: [
      { sku: 'SMARTPHONE_001' },
      { sku: 'LAPTOP_002' },
      { sku: 'TABLET_003' }
    ]
  },
  {
    name: 'Fashion',
    description: '–û–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã —Å —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –∫–æ–ª–µ–±–∞–Ω–∏—è–º–∏',
    strategyType: 'DYNAMIC',
    settings: {
      margin_min: 0.15,
      margin_max: 0.40,
      update_frequency: 'daily',
      price_adjustment_speed: 'medium'
    },
    products: [
      { sku: 'DRESS_001' },
      { sku: 'SHOES_002' },
      { sku: 'BAG_003' }
    ]
  }
];

const strategyResults = await strategyManager.createCategoryBasedStrategies(categoryStrategies);

// –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
const optimizations = await strategyManager.monitorAndOptimizeStrategies();

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞
const performanceReport = await strategyManager.generatePerformanceReport();
```

## Error Handling

```typescript
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
async function safePricingStrategyOperations() {
  try {
    const strategy = await ozonApi.pricingStrategy.createStrategy({
      name: 'Test Strategy',
      strategy_type: 'COMPETITIVE'
    });
    
    return strategy;
  } catch (error) {
    if (error.code === 'STRATEGY_LIMIT_EXCEEDED') {
      console.error('‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π');
    } else if (error.code === 'INVALID_STRATEGY_TYPE') {
      console.error('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏');
    } else if (error.code === 'INSUFFICIENT_PERMISSIONS') {
      console.error('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏');
    } else if (error.code === 'PRODUCT_ALREADY_IN_STRATEGY') {
      console.error('‚ùå –¢–æ–≤–∞—Ä —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏');
    } else if (error.code === 'STRATEGY_NOT_FOUND') {
      console.error('‚ùå –°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
    } else if (error.code === 'SYSTEM_STRATEGY_MODIFICATION') {
      console.error('‚ùå –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å');
    } else {
      console.error('‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:', error);
    }
    
    throw error;
  }
}
```

## Best Practices

### 1. –î–∏–∑–∞–π–Ω —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
```typescript
const strategyDesignBestPractices = {
  // –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
  startConservative: {
    margin_min: 0.10,
    price_adjustment_speed: 'medium',
    max_price_change_percent: 0.10
  },
  
  // –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–∞–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç–æ–≤–∞—Ä–æ–≤
  testFirst: true,
  initialProductCount: 10,
  
  // –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  monitoringInterval: 'daily',
  
  // –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä—ã –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
  groupSimilarProducts: true
};
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
```typescript
const riskManagementBestPractices = {
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
  maxPriceChange: 0.15, // 15%
  
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –º–∞—Ä–∂–∏
  minMarginSafety: 0.08, // 8%
  
  // –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
  competitorMonitoring: true,
  maxCompetitors: 10,
  
  // –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  backupStrategies: true
};
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
const performanceOptimization = {
  // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  updateFrequency: {
    highVolume: 'hourly',      // >1000 —Ç–æ–≤–∞—Ä–æ–≤
    mediumVolume: 'every_30_minutes', // 100-1000 —Ç–æ–≤–∞—Ä–æ–≤
    lowVolume: 'every_15_minutes'     // <100 —Ç–æ–≤–∞—Ä–æ–≤
  },
  
  // –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  batchSize: 50,
  
  // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  cacheCompetitorData: true,
  cacheTimeout: 1800, // 30 –º–∏–Ω—É—Ç
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
  priorityLevels: ['critical', 'high', 'medium', 'low']
};
```

## Integration Notes

- **Strategy Types**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è, –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ä–∂–∏, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è)
- **Real-time Updates**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Multi-marketplace**: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **Custom Rules**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–∞–≤–∏–ª —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- **Performance Tracking**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- **Automated Optimization**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Risk Management**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏
- **Scalability**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

Pricing Strategy API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω–∞–º–∏.