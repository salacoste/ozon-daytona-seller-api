<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üóÇÔ∏è Category API - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 1;
        }

        .header .folder-icon {
            font-size: 4rem;
            animation: folderBounce 2s ease-in-out infinite;
            display: inline-block;
            margin-right: 20px;
            filter: drop-shadow(0 5px 15px rgba(102, 126, 234, 0.3));
        }

        @keyframes folderBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .endpoints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .endpoint-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 5px solid;
        }

        .endpoint-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 35px rgba(0,0,0,0.15);
        }

        .endpoint-card.tree { border-left-color: #27ae60; }
        .endpoint-card.attributes { border-left-color: #3498db; }
        .endpoint-card.values { border-left-color: #e74c3c; }
        .endpoint-card.search { border-left-color: #f39c12; }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .workflow-step {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .workflow-step:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .workflow-step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 15px;
        }

        .tree-visualization {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border-left: 5px solid #27ae60;
        }

        .tree-node {
            margin: 10px 0;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #27ae60;
            font-family: monospace;
            position: relative;
        }

        .tree-node.disabled {
            opacity: 0.5;
            border-left-color: #e74c3c;
        }

        .tree-node.leaf {
            border-left-color: #3498db;
            font-weight: bold;
        }

        .attributes-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .attribute-stat {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .attribute-stat:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .validation-example {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border-left: 5px solid #27ae60;
        }

        .validation-result {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .validation-result.success {
            border-left: 4px solid #27ae60;
        }

        .validation-result.error {
            border-left: 4px solid #e74c3c;
        }

        .validation-result.warning {
            border-left: 4px solid #f39c12;
        }

        pre[class*="language-"] {
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .code-block {
            position: relative;
        }

        .code-block::before {
            content: 'TypeScript';
            position: absolute;
            top: 10px;
            right: 15px;
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            z-index: 10;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }

        .nav-button {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .nav-button.prev {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
        }

        .nav-button.next {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }

        .limitations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .limitation-item {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #f39c12;
            transition: all 0.3s ease;
        }

        .limitation-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(243, 156, 18, 0.2);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header .folder-icon {
                font-size: 2.5rem;
            }

            .content-section {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .workflow-steps {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><span class="folder-icon">üóÇÔ∏è</span>Category API</h1>
            <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ OZON</p>
            <div class="endpoints-grid">
                <div class="endpoint-card tree">
                    <h3>üå≥ getCategoryTree</h3>
                    <p>–ü–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–∏–ø–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤</p>
                    <code>/v1/description-category/tree</code>
                </div>
                <div class="endpoint-card attributes">
                    <h3>üìã getCategoryAttributes</h3>
                    <p>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>
                    <code>/v1/description-category/attribute</code>
                </div>
                <div class="endpoint-card values">
                    <h3>üìñ getCategoryAttributeValues</h3>
                    <p>–ó–Ω–∞—á–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π</p>
                    <code>/v1/description-category/attribute/values</code>
                </div>
                <div class="endpoint-card search">
                    <h3>üîç searchCategoryAttributeValues</h3>
                    <p>–ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</p>
                    <code>/v1/description-category/attribute/values/search</code>
                </div>
            </div>
        </div>

        <!-- Quick Start -->
        <div class="content-section">
            <h2>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
            
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <h3>–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ</h3>
                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π OZON</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <h3>–ù–∞–π—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                    <p>–í—ã–±—Ä–∞—Ç—å –∫–æ–Ω–µ—á–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è —Ç–æ–≤–∞—Ä–∞</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <h3>–ü–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã</h3>
                    <p>–ò–∑—É—á–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <h3>–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h3>
                    <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</p>
                </div>
            </div>

            <div class="code-block">
                <pre><code class="language-typescript">import { OzonSellerAPI } from 'daytona-ozon-seller-api';

const client = new OzonSellerAPI({
  clientId: 'your-client-id',
  apiKey: 'your-api-key'
});

// –ë–∞–∑–æ–≤—ã–π workflow —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
try {
  // 1. –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  const categoryTree = await client.category.getCategoryTree({
    language: 'RU'
  });

  console.log('üå≥ –î–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–æ');

  // 2. –ù–∞–π—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–∫–æ–Ω–µ—á–Ω—ã–µ —É–∑–ª—ã)
  const findLeafCategories = (items: any[]): any[] => {
    const leafCategories: any[] = [];
    items.forEach(item => {
      if ((!item.children || item.children.length === 0) && !item.disabled) {
        leafCategories.push(item);
      } else if (item.children) {
        leafCategories.push(...findLeafCategories(item.children));
      }
    });
    return leafCategories;
  };

  const leafCategories = findLeafCategories(categoryTree.result || []);
  console.log(`üìÇ –î–æ—Å—Ç—É–ø–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤: ${leafCategories.length}`);

  if (leafCategories.length > 0) {
    const selectedCategory = leafCategories[0];
    console.log(`\nüéØ –í—ã–±—Ä–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ${selectedCategory.category_name}`);
    console.log(`   ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ${selectedCategory.description_category_id}`);
    console.log(`   ID —Ç–∏–ø–∞: ${selectedCategory.type_id}`);

    // 3. –ü–æ–ª—É—á–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    const attributes = await client.category.getCategoryAttributes({
      description_category_id: selectedCategory.description_category_id,
      type_id: selectedCategory.type_id,
      language: 'RU'
    });

    console.log(`\nüìã –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ${attributes.result?.length || 0}`);

    // 4. –ù–∞–π—Ç–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏–π
    const dictionaryAttributes = attributes.result?.filter(attr => 
      attr.dictionary_id && attr.dictionary_id > 0
    ) || [];

    console.log(`üìñ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏: ${dictionaryAttributes.length}`);
  }

} catch (error) {
  console.error('‚ùå –û—à–∏–±–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:', error);
}</code></pre>
            </div>
        </div>

        <!-- Category Tree Visualization -->
        <div class="content-section">
            <h2>üå≥ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h2>
            
            <div class="tree-visualization">
                <h3>–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h3>
                <div class="tree-node">üìÇ –û–¥–µ–∂–¥–∞, –æ–±—É–≤—å –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã</div>
                <div class="tree-node" style="margin-left: 20px;">üìÇ –ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</div>
                <div class="tree-node leaf" style="margin-left: 40px;">üëó –ü–ª–∞—Ç—å—è (ID: 15621)</div>
                <div class="tree-node leaf" style="margin-left: 40px;">üëö –ë–ª—É–∑—ã –∏ —Ä—É–±–∞—à–∫–∏ (ID: 15623)</div>
                <div class="tree-node disabled" style="margin-left: 40px;">‚ùå –í–∏–Ω—Ç–∞–∂–Ω–∞—è –æ–¥–µ–∂–¥–∞ (–æ—Ç–∫–ª—é—á–µ–Ω–∞)</div>
                <div class="tree-node" style="margin-left: 20px;">üìÇ –ú—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</div>
                <div class="tree-node leaf" style="margin-left: 40px;">üëî –†—É–±–∞—à–∫–∏ (ID: 15641)</div>
            </div>

            <div class="attributes-dashboard">
                <div class="attribute-stat">
                    <div class="stat-value">15,000+</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                </div>
                <div class="attribute-stat">
                    <div class="stat-value">8,500+</div>
                    <div class="stat-label">–ö–æ–Ω–µ—á–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                </div>
                <div class="attribute-stat">
                    <div class="stat-value">7,200+</div>
                    <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤</div>
                </div>
                <div class="attribute-stat">
                    <div class="stat-value">12</div>
                    <div class="stat-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞</div>
                </div>
            </div>
        </div>

        <!-- Attributes Analysis -->
        <div class="content-section">
            <h2>üìã –ê–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üî¥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ</h3>
                    <p>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞. –û—Ç–º–µ—á–µ–Ω—ã —Ñ–ª–∞–≥–æ–º <code>is_required: true</code></p>
                </div>
                <div class="feature-card">
                    <h3>üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</h3>
                    <p>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. <code>dictionary_id > 0</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞</p>
                </div>
                <div class="feature-card">
                    <h3>üè∑Ô∏è –ê—Å–ø–µ–∫—Ç–Ω—ã–µ</h3>
                    <p>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ. –û—Ç–º–µ—á–µ–Ω—ã —Ñ–ª–∞–≥–æ–º <code>is_aspect: true</code></p>
                </div>
                <div class="feature-card">
                    <h3>üì¶ –ö–æ–ª–ª–µ–∫—Ü–∏–∏</h3>
                    <p>–ú–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. <code>is_collection: true</code></p>
                </div>
            </div>

            <div class="code-block">
                <pre><code class="language-typescript">// –ê–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const analyzeCategoryAttributes = async (categoryId: number, typeId: number) => {
  try {
    const attributes = await client.category.getCategoryAttributes({
      description_category_id: categoryId,
      type_id: typeId,
      language: 'RU'
    });
    
    const analysis = {
      total: attributes.result?.length || 0,
      required: 0,
      optional: 0,
      collections: 0,
      aspects: 0,
      withDictionary: 0,
      withoutDictionary: 0,
      groups: new Set<string>()
    };
    
    const requiredAttributes: any[] = [];
    const dictionaryAttributes: any[] = [];
    
    attributes.result?.forEach(attr => {
      // –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
      if (attr.is_required) {
        analysis.required++;
        requiredAttributes.push(attr);
      } else {
        analysis.optional++;
      }
      
      if (attr.is_collection) analysis.collections++;
      if (attr.is_aspect) analysis.aspects++;
      
      // –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
      if (attr.dictionary_id && attr.dictionary_id > 0) {
        analysis.withDictionary++;
        dictionaryAttributes.push(attr);
      } else {
        analysis.withoutDictionary++;
      }
      
      // –ì—Ä—É–ø–ø—ã
      if (attr.group_name) {
        analysis.groups.add(attr.group_name);
      }
    });
    
    console.log('üìä –ê–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:');
    console.log(`   –í—Å–µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫: ${analysis.total}`);
    console.log(`   –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö: ${analysis.required}`);
    console.log(`   –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö: ${analysis.optional}`);
    console.log(`   –°–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º: ${analysis.withDictionary}`);
    console.log(`   –ì—Ä—É–ø–ø —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫: ${analysis.groups.size}`);
    
    return { analysis, requiredAttributes, dictionaryAttributes };
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:', error);
  }
};</code></pre>
            </div>
        </div>

        <!-- Validation Example -->
        <div class="content-section">
            <h2>‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–∞</h2>
            
            <div class="validation-example">
                <h3>–ü—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                <div class="validation-result success">
                    <span>‚úÖ</span>
                    <div>
                        <strong>–í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞</strong><br>
                        –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
                    </div>
                </div>
                <div class="validation-result error">
                    <span>‚ùå</span>
                    <div>
                        <strong>–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</strong><br>
                        –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞: "–¶–≤–µ—Ç"
                    </div>
                </div>
                <div class="validation-result warning">
                    <span>‚ö†Ô∏è</span>
                    <div>
                        <strong>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</strong><br>
                        –ó–Ω–∞—á–µ–Ω–∏–µ "—Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ —Ü–≤–µ—Ç–æ–≤
                    </div>
                </div>
            </div>

            <div class="code-block">
                <pre><code class="language-typescript">// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const validateProductForCategory = async (categoryId: number, typeId: number, productData: any) => {
  try {
    const attributes = await client.category.getCategoryAttributes({
      description_category_id: categoryId,
      type_id: typeId,
      language: 'RU'
    });
    
    const requiredAttributes = attributes.result?.filter(attr => attr.is_required) || [];
    const errors: string[] = [];
    const warnings: string[] = [];
    
    console.log(`üîç –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${categoryId}...`);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
    for (const attr of requiredAttributes) {
      const value = productData[attr.name] || productData[attr.id];
      
      if (!value) {
        errors.push(`–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞: ${attr.name}`);
      } else if (attr.dictionary_id && attr.dictionary_id > 0) {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
        try {
          const searchResult = await client.category.searchCategoryAttributeValues({
            attribute_id: attr.id,
            description_category_id: categoryId,
            type_id: typeId,
            value: value.toString(),
            limit: 1
          });
          
          const exactMatch = searchResult.result?.find(v => 
            v.value?.toLowerCase() === value.toString().toLowerCase()
          );
          
          if (!exactMatch) {
            warnings.push(`–ó–Ω–∞—á–µ–Ω–∏–µ "${value}" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –¥–ª—è "${attr.name}"`);
          }
        } catch (error) {
          warnings.push(`–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è "${attr.name}"`);
        }
      }
    }
    
    const isValid = errors.length === 0;
    
    console.log(`${isValid ? '‚úÖ' : '‚ùå'} –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:`);
    console.log(`   –û—à–∏–±–æ–∫: ${errors.length}`);
    console.log(`   –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: ${warnings.length}`);
    
    return { isValid, errors, warnings, requiredAttributesCount: requiredAttributes.length };
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–∞:', error);
    return {
      isValid: false,
      errors: [`–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: ${error.message}`],
      warnings: [],
      requiredAttributesCount: 0
    };
  }
};</code></pre>
            </div>
        </div>

        <!-- Limitations -->
        <div class="content-section">
            <h2>‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h2>
            
            <div class="limitations-grid">
                <div class="limitation-item">
                    <h3>üå≥ –î–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h3>
                    <ul>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω–µ—á–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö</li>
                        <li>–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã —Ñ–ª–∞–≥–æ–º <code>disabled</code></li>
                        <li>–†–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–º–∏—Å—Å–∏–∏ OZON</li>
                    </ul>
                </div>
                <div class="limitation-item">
                    <h3>üìã –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
                    <ul>
                        <li>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã</li>
                        <li>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏: <code>dictionary_id > 0</code></li>
                        <li>–ê—Å–ø–µ–∫—Ç–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ</li>
                        <li>–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π</li>
                    </ul>
                </div>
                <div class="limitation-item">
                    <h3>üìÑ –õ–∏–º–∏—Ç—ã –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è</h3>
                    <ul>
                        <li>–ó–Ω–∞—á–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫: –º–∞–∫—Å–∏–º—É–º 2000 –∑–∞ –∑–∞–ø—Ä–æ—Å</li>
                        <li>–ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π: –º–∞–∫—Å–∏–º—É–º 100 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
                        <li>–ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞ –≤ –ø–æ–∏—Å–∫–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ</li>
                        <li>–ü–∞–≥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ <code>last_value_id</code></li>
                    </ul>
                </div>
                <div class="limitation-item">
                    <h3>üåç –Ø–∑—ã–∫–∏ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è</h3>
                    <ul>
                        <li>üá∑üá∫ RU: —Ä—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</li>
                        <li>üá¨üáß EN: –∞–Ω–≥–ª–∏–π—Å–∫–∏–π</li>
                        <li>üáπüá∑ TR: —Ç—É—Ä–µ—Ü–∫–∏–π</li>
                        <li>üá®üá≥ ZH_HANS: –∫–∏—Ç–∞–π—Å–∫–∏–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-buttons">
            <a href="10-brand.html" class="nav-button prev">
                ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è: Brand API
            </a>
            <a href="12-certification.html" class="nav-button next">
                –°–ª–µ–¥—É—é—â–∞—è: Certification API ‚Üí
            </a>
        </div>

        <div style="text-align:center; margin: 20px 0;">
            <a href="../api-categories-index.html" style="display:inline-block;padding:10px 16px;margin:0 5px;background:#667eea;color:#fff;text-decoration:none;border-radius:18px;font-weight:500">üìö –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
            <a href="../API-INDEX.html" style="display:inline-block;padding:10px 16px;margin:0 5px;background:#667eea;color:#fff;text-decoration:none;border-radius:18px;font-weight:500">üìë –ò–Ω–¥–µ–∫—Å API</a>
            <a href="../QUICK-START.html" style="display:inline-block;padding:10px 16px;margin:0 5px;background:#667eea;color:#fff;text-decoration:none;border-radius:18px;font-weight:500">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</a>
            <a href="../FAQ.html" style="display:inline-block;padding:10px 16px;margin:0 5px;background:#667eea;color:#fff;text-decoration:none;border-radius:18px;font-weight:500">‚ùì FAQ</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <script>
        // Add line numbers to all code blocks
        document.querySelectorAll('pre[class*="language-"]').forEach(pre => {
            pre.classList.add('line-numbers');
        });

        // Category tree interactive exploration
        const treeNodes = document.querySelectorAll('.tree-node');
        treeNodes.forEach(node => {
            node.addEventListener('click', function() {
                if (this.classList.contains('leaf')) {
                    this.style.background = 'linear-gradient(135deg, #e8f5e8, #d4edda)';
                    this.style.transform = 'scale(1.02)';
                    
                    setTimeout(() => {
                        this.style.background = 'white';
                        this.style.transform = 'scale(1)';
                    }, 500);
                }
            });
        });

        // Animate statistics on scroll
        const observeStats = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const statValue = entry.target.querySelector('.stat-value');
                    if (statValue && !statValue.hasAttribute('data-animated')) {
                        const finalValue = statValue.textContent;
                        const numValue = parseInt(finalValue.replace(/[^\d]/g, ''));
                        let currentValue = 0;
                        const increment = numValue / 30;
                        
                        const timer = setInterval(() => {
                            currentValue += increment;
                            if (currentValue >= numValue) {
                                statValue.textContent = finalValue;
                                clearInterval(timer);
                            } else {
                                statValue.textContent = Math.floor(currentValue).toLocaleString() + (finalValue.includes('+') ? '+' : '');
                            }
                        }, 50);
                        
                        statValue.setAttribute('data-animated', 'true');
                    }
                }
            });
        });

        document.querySelectorAll('.attribute-stat').forEach(stat => {
            observeStats.observe(stat);
        });

        // Enhanced folder icon animation
        const folderIcon = document.querySelector('.folder-icon');
        folderIcon.addEventListener('mouseenter', function() {
            this.style.transform = 'rotateY(180deg) scale(1.1)';
            this.style.transition = 'all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
        });
        
        folderIcon.addEventListener('mouseleave', function() {
            this.style.transform = 'rotateY(0deg) scale(1)';
        });
    </script>
</body>
</html>
