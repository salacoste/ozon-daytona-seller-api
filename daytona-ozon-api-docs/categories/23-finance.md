# 23. API –§–∏–Ω–∞–Ω—Å—ã

**API –§–∏–Ω–∞–Ω—Å—ã** - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –¥–ª—è OZON Seller API.

## –û–±–∑–æ—Ä

API –§–∏–Ω–∞–Ω—Å—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ OZON. –≠—Ç–æ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π API –≤–∫–ª—é—á–∞–µ—Ç 10 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è–º–∏, –æ—Ç—á—ë—Ç–∞–º–∏ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, B2B –ø—Ä–æ–¥–∞–∂–∞–º–∏, –≤–∑–∞–∏–º–æ—Ä–∞—Å—á—ë—Ç–∞–º–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–û—Ç—á—ë—Ç—ã –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö**: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∏ –¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å**: –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
- **B2B –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç**: –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü
- **–í–∑–∞–∏–º–æ—Ä–∞—Å—á—ë—Ç—ã**: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É –ø—Ä–æ–¥–∞–≤—Ü–æ–º –∏ OZON
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–í—ã–∫—É–ø—ã —Ç–æ–≤–∞—Ä–æ–≤**: –û—Ç—á—ë—Ç—ã –ø–æ —Ç–æ–≤–∞—Ä–∞–º, –≤—ã–∫—É–ø–ª–µ–Ω–Ω—ã–º OZON
- **–ú–Ω–æ–≥–æ–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å API**: v1, v2, v3 –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–µ—Ä–∏–æ–¥ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏**: –î–æ 31 –¥–Ω—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –æ—Ç—á—ë—Ç–æ–≤
- **–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö**: Excel, JSON, CSV
- **–Ø–∑—ã–∫–∏**: RU, EN –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤
- **–í–∞–ª—é—Ç—ã**: –†—É–±–ª–∏ (RUB) –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ —Ä–∞—Å—á—ë—Ç–æ–≤

---

## üìä –ú–µ—Ç–æ–¥—ã API

### üí∞ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã

#### 1. **createCompensationReport** - –û—Ç—á—ë—Ç –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö
–°–æ–∑–¥–∞—ë—Ç –æ—Ç—á—ë—Ç –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö, –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü—É –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

```typescript
async createCompensationReport(
  request: GetCompensationReportRequest,
  options?: RequestOptions
): Promise<CreateReportResponse>
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
interface GetCompensationReportRequest {
  date: string;      // –ü–µ—Ä–∏–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM
  language: 'RU' | 'EN';
}
```

**–û—Ç–≤–µ—Ç:**
```typescript
interface CreateReportResponse {
  result?: {
    code: 'SUCCESS' | 'ERROR';
    description?: string;
  };
}
```

#### 2. **createDecompensationReport** - –û—Ç—á—ë—Ç –æ –¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö
–°–æ–∑–¥–∞—ë—Ç –æ—Ç—á—ë—Ç –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–π (–¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö) –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

```typescript
async createDecompensationReport(
  request: GetDecompensationReportRequest,
  options?: RequestOptions
): Promise<CreateReportResponse>
```

### üè¢ B2B –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

#### 3. **createDocumentB2BSalesReport** - –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–¥–∞–∂ —é—Ä–ª–∏—Ü–∞–º
–°–æ–∑–¥–∞—ë—Ç –æ—Ç—á—ë—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–¥–∞–∂–∞—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º.

```typescript
async createDocumentB2BSalesReport(
  request: CreateDocumentB2BSalesReportRequest,
  options?: RequestOptions
): Promise<CommonCreateReportResponse>
```

#### 4. **createDocumentB2BSalesJSONReport** - –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–¥–∞–∂ B2B –≤ JSON
–°–æ–∑–¥–∞—ë—Ç –æ—Ç—á—ë—Ç –æ –ø—Ä–æ–¥–∞–∂–∞—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

```typescript
async createDocumentB2BSalesJSONReport(
  request: CreateDocumentB2BSalesJSONReportRequest,
  options?: RequestOptions
): Promise<CreateDocumentB2BSalesJSONReportResponse>
```

### üîÑ –í–∑–∞–∏–º–æ—Ä–∞—Å—á—ë—Ç—ã

#### 5. **createMutualSettlementReport** - –û—Ç—á—ë—Ç –æ –≤–∑–∞–∏–º–æ—Ä–∞—Å—á—ë—Ç–∞—Ö
–°–æ–∑–¥–∞—ë—Ç –æ—Ç—á—ë—Ç –æ –≤–∑–∞–∏–º–æ—Ä–∞—Å—á—ë—Ç–∞—Ö –º–µ–∂–¥—É –ø—Ä–æ–¥–∞–≤—Ü–æ–º –∏ OZON.

```typescript
async createMutualSettlementReport(
  request: CreateMutualSettlementReportRequest,
  options?: RequestOptions
): Promise<CommonCreateReportResponse>
```

### üì¶ –í—ã–∫—É–ø—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 6. **getProductsBuyout** - –û—Ç—á—ë—Ç –æ –≤—ã–∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
–ü–æ–ª—É—á–∞–µ—Ç –æ—Ç—á—ë—Ç –æ —Ç–æ–≤–∞—Ä–∞—Ö, –≤—ã–∫—É–ø–ª–µ–Ω–Ω—ã—Ö OZON —É –ø—Ä–æ–¥–∞–≤—Ü–∞ (–º–∞–∫—Å–∏–º—É–º 31 –¥–µ–Ω—å).

```typescript
async getProductsBuyout(
  request: GetFinanceProductsBuyoutRequest,
  options?: RequestOptions
): Promise<GetFinanceProductsBuyoutResponse>
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
interface GetFinanceProductsBuyoutRequest {
  date: {
    from: string;    // YYYY-MM-DD
    to: string;      // YYYY-MM-DD (–º–∞–∫—Å–∏–º—É–º 31 –¥–µ–Ω—å)
  };
}
```

#### 7. **getRealizationReportPosting** - –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø–æ–∑–∞–∫–∞–∑–Ω—ã–π)
–ü–æ–ª—É—á–∞–µ—Ç –æ—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º.

```typescript
async getRealizationReportPosting(
  request: GetRealizationReportPostingRequest,
  options?: RequestOptions
): Promise<GetRealizationReportPostingResponse>
```

#### 8. **getRealizationReportV2** - –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ v2
–ü–æ–ª—É—á–∞–µ—Ç –æ—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü (—É–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).

```typescript
async getRealizationReportV2(
  request: GetRealizationReportV2Request,
  options?: RequestOptions
): Promise<GetRealizationReportV2Response>
```

### üí≥ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### 9. **getTransactionList** - –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π v3
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

```typescript
async getTransactionList(
  request: FinanceTransactionListV3Request,
  options?: RequestOptions
): Promise<FinanceTransactionListV3Response>
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
interface FinanceTransactionListV3Request {
  page: number;
  page_size: number;
  filter: {
    date: {
      from: string;
      to: string;
    };
    transaction_type?: string[];
    posting_number?: string[];
  };
}
```

#### 10. **getTransactionTotals** - –ò—Ç–æ–≥–∏ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º v3
–ü–æ–ª—É—á–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –∑–∞ –ø–µ—Ä–∏–æ–¥ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

```typescript
async getTransactionTotals(
  request: FinanceTransactionTotalsV3Request,
  options?: RequestOptions
): Promise<FinanceTransactionTotalsV3Response>
```

---

## üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏

```typescript
import { OzonSellerAPI } from 'daytona-ozon-seller-api';

const api = new OzonSellerAPI({
  clientId: '–≤–∞—à-client-id',
  apiKey: '–≤–∞—à-api-key'
});

// –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏
async function completeFinancialAnalysis() {
  const currentMonth = '2024-01';
  const datePeriod = {
    from: '2024-01-01',
    to: '2024-01-31'
  };

  // 1. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö
  console.log('üìä –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö...');
  const compensations = await api.finance.createCompensationReport({
    date: currentMonth,
    language: 'RU'
  });

  if (compensations.result?.code === 'SUCCESS') {
    console.log('‚úÖ –û—Ç—á—ë—Ç –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö —Å–æ–∑–¥–∞–Ω');
  }

  // 2. –û—Ç—á—ë—Ç –æ –¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö
  console.log('üìä –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –æ –¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö...');
  const decompensations = await api.finance.createDecompensationReport({
    date: currentMonth,
    language: 'RU'
  });

  // 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  console.log('üí≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...');
  const transactions = await api.finance.getTransactionList({
    page: 1,
    page_size: 100,
    filter: {
      date: datePeriod,
      transaction_type: ['orders', 'returns', 'compensation']
    }
  });

  console.log(`üí∞ –ù–∞–π–¥–µ–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: ${transactions.result?.operations?.length}`);

  // 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º
  const totals = await api.finance.getTransactionTotals({
    filter: {
      date: datePeriod
    }
  });

  console.log(`üí∏ –û–±—â–∞—è —Å—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–π: ${totals.result?.total_amount} RUB`);

  // 5. –û—Ç—á—ë—Ç –æ –≤—ã–∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
  const buyouts = await api.finance.getProductsBuyout({
    date: datePeriod
  });

  console.log(`üì¶ –í—ã–∫—É–ø–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: ${buyouts.result?.products?.length}`);

  // 6. –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (v2)
  const realization = await api.finance.getRealizationReportV2({
    month: currentMonth,
    language: 'RU'
  });

  // –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  if (realization.result?.header && realization.result?.data) {
    console.log('\nüìà –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:');
    realization.result.data.forEach(row => {
      console.log(`SKU: ${row[0]}, –ù–∞–∑–≤–∞–Ω–∏–µ: ${row[1]}, –í—ã—Ä—É—á–∫–∞: ${row[2]}`);
    });
  }

  return {
    compensations,
    transactions,
    totals,
    buyouts,
    realization
  };
}
```

### B2B –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü

```typescript
// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è B2B –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
async function createB2BReports() {
  const period = '2024-01';

  // 1. –°–æ–∑–¥–∞–Ω–∏–µ B2B –æ—Ç—á—ë—Ç–∞ –≤ Excel
  const b2bReport = await api.finance.createDocumentB2BSalesReport({
    date: period,
    language: 'RU'
  });

  if (b2bReport.result?.url) {
    console.log(`üìÑ B2B –æ—Ç—á—ë—Ç –≥–æ—Ç–æ–≤: ${b2bReport.result.url}`);
  }

  // 2. –ü–æ–ª—É—á–µ–Ω–∏–µ B2B –¥–∞–Ω–Ω—ã—Ö –≤ JSON
  const b2bJSON = await api.finance.createDocumentB2BSalesJSONReport({
    date: period
  });

  // –ê–Ω–∞–ª–∏–∑ —Å—á–µ—Ç–æ–≤ –¥–ª—è —é—Ä–ª–∏—Ü
  if (b2bJSON.result?.invoices) {
    console.log('\nüè¢ –ê–Ω–∞–ª–∏–∑ B2B –ø—Ä–æ–¥–∞–∂:');
    
    let totalAmount = 0;
    b2bJSON.result.invoices.forEach(invoice => {
      console.log(`–°—á—ë—Ç ‚Ññ${invoice.invoice_number}: ${invoice.amount} RUB`);
      totalAmount += parseFloat(invoice.amount);
    });
    
    console.log(`üí∞ –û–±—â–∞—è —Å—É–º–º–∞ B2B –ø—Ä–æ–¥–∞–∂: ${totalAmount} RUB`);
  }

  return { b2bReport, b2bJSON };
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

```typescript
// –ö–ª–∞—Å—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤
class FinanceMonitoring {
  constructor(private api: OzonSellerAPI) {}

  async dailyMonitoring(): Promise<FinanceAnalytics> {
    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);
    
    const period = {
      from: yesterday.toISOString().split('T')[0],
      to: yesterday.toISOString().split('T')[0]
    };

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ –≤—á–µ—Ä–∞
    const transactions = await this.api.finance.getTransactionList({
      page: 1,
      page_size: 1000,
      filter: {
        date: period
      }
    });

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤
    const totals = await this.api.finance.getTransactionTotals({
      filter: {
        date: period
      }
    });

    // –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
    return this.analyzeData(transactions, totals);
  }

  private analyzeData(
    transactions: FinanceTransactionListV3Response,
    totals: FinanceTransactionTotalsV3Response
  ): FinanceAnalytics {
    const operations = transactions.result?.operations || [];
    
    return {
      totalRevenue: totals.result?.total_amount || 0,
      operationsCount: operations.length,
      averageOperationAmount: operations.length > 0 
        ? (totals.result?.total_amount || 0) / operations.length 
        : 0,
      operationTypes: this.groupByType(operations),
      recommendations: this.generateRecommendations(operations, totals)
    };
  }

  private groupByType(operations: any[]): Record<string, number> {
    return operations.reduce((groups, operation) => {
      const type = operation.operation_type || 'unknown';
      groups[type] = (groups[type] || 0) + 1;
      return groups;
    }, {});
  }

  private generateRecommendations(
    transactions: FinanceTransactionListV3Response,
    totals: FinanceTransactionTotalsV3Response
  ): string[] {
    const recommendations: string[] = [];
    const operations = transactions.result?.operations || [];

    if (operations.length === 0) {
      recommendations.push('–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂');
    }

    if ((totals.result?.total_amount || 0) < 0) {
      recommendations.push('–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã');
    }

    const returns = operations.filter(op => op.operation_type === 'returns').length;
    if (returns > operations.length * 0.1) {
      recommendations.push('–í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤');
    }

    return recommendations;
  }
}

interface FinanceAnalytics {
  totalRevenue: number;
  operationsCount: number;
  averageOperationAmount: number;
  operationTypes: Record<string, number>;
  recommendations: string[];
}
```

---

## üîÑ –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏
```mermaid
graph TD
    A[–ù–∞—á–∞–ª–æ –º–µ—Å—è—Ü–∞] --> B[–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö]
    B --> C[–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –æ –¥–µ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è—Ö]
    C --> D[–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π]
    D --> E[–ê–Ω–∞–ª–∏–∑ –∏—Ç–æ–≥–æ–≤ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º]
    E --> F[–û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏]
    F --> G[B2B –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å]
    G --> H[–û—Ç—á—ë—Ç –æ –≤—ã–∫—É–ø–∞—Ö]
    H --> I[–ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π]
```

### –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
1. **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤
2. **–ù–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å** ‚Üí B2B –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç
3. **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã** ‚Üí –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```typescript
type –¢–∏–ø–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ = 
  | 'orders'           // –ó–∞–∫–∞–∑—ã
  | 'returns'          // –í–æ–∑–≤—Ä–∞—Ç—ã
  | 'compensation'     // –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
  | 'services'         // –£—Å–ª—É–≥–∏
  | 'adjustments';     // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

interface –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—èV3 {
  operation_id: string;
  operation_type: –¢–∏–ø–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
  operation_date: string;
  posting_number?: string;
  amount: number;
  currency_code: 'RUB';
  description: string;
  details?: {
    product_name?: string;
    sku?: number;
    commission_amount?: number;
    commission_percent?: number;
  };
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á—ë—Ç–∞ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
```typescript
interface RealizationReport {
  header: string[];           // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
  data: RealizationRow[];
}

interface RealizationRow {
  sku: string;
  product_name: string;
  price: number;
  commission_amount: number;
  commission_percent: number;
  sold_amount: number;
  return_amount: number;
  net_amount: number;
  currency_code: 'RUB';
}
```

### B2B –¥–æ–∫—É–º–µ–Ω—Ç—ã
```typescript
interface B2BInvoice {
  invoice_number: string;
  invoice_date: string;
  company_name: string;
  inn: string;
  amount: string;
  currency_code: 'RUB';
  status: 'paid' | 'pending' | 'cancelled';
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
- **–ü–µ—Ä–∏–æ–¥ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏**: –ú–∞–∫—Å–∏–º—É–º 31 –¥–µ–Ω—å –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤
- **–í–∞–ª—é—Ç–∞ —Ä–∞—Å—á—ë—Ç–æ–≤**: –†—É–±–ª–∏ (RUB) –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞
- **–§–æ—Ä–º–∞—Ç—ã –æ—Ç—á—ë—Ç–æ–≤**: Excel, JSON, CSV –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–µ—Ç–æ–¥–∞
- **–Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –†—É—Å—Å–∫–∏–π (RU) –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (EN)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **API –≤–µ—Ä—Å–∏–∏**: v1, v2, v3 –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥—Ä—É–ø–ø –º–µ—Ç–æ–¥–æ–≤
- **–†–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**: –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û—Ç—á—ë—Ç—ã –º–æ–≥—É—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ OZON
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—á—ë—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å –æ—Ç—á—ë—Ç–æ–≤**: –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **B2B –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- **–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

---

**–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024  
**–í–µ—Ä—Å–∏–∏ API**: v1, v2, v3  
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤**: 10 –º–µ—Ç–æ–¥–æ–≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏