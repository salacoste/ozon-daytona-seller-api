# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ - Seller Rating Performance API

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π —Ä–∏—Å–∫–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—Å–µ–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ OZON.

**üìä –ü–û–õ–ù–û–ï –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –õ–ò–ß–ù–û–ú–£ –ö–ê–ë–ò–ù–ï–¢–£** ‚Äî –¥–∞–Ω–Ω—ã–µ API –∏–¥–µ–Ω—Ç–∏—á–Ω—ã —Ä–∞–∑–¥–µ–ª—É "–†–µ–π—Ç–∏–Ω–≥–∏ ‚Üí –†–µ–π—Ç–∏–Ω–≥–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞".

## üìä –û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤ Performance API

**–í—Å–µ–≥–æ –º–µ—Ç–æ–¥–æ–≤: 2** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞

### üìà –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (1 –º–µ—Ç–æ–¥)
1. **getCurrentRatings()** ‚Äî –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–Ω–∏–º–æ–∫ –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π

### üìä –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (1 –º–µ—Ç–æ–¥)
2. **getRatingHistory()** ‚Äî –¢—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –¥–∏–Ω–∞–º–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥

---

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- **–ì—Ä—É–ø–ø—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤**: –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ –æ–±–ª–∞—Å—Ç—è–º –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å –ø–æ—Ä–æ–≥–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- **–°—Ç–∞—Ç—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (OK, WARNING, CRITICAL)
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏

### –¢–∏–ø—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ
- **rating_on_time**: –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–∫–∞–∑–æ–≤, –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤–æ–≤—Ä–µ–º—è (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
- **rating_review_avg_score_total**: –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **rating_price**: –ò–Ω–¥–µ–∫—Å —Ü–µ–Ω –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)
- **rating_order_cancellation**: –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–º–µ–Ω FBS –∑–∞–∫–∞–∑–æ–≤ (–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)
- **rating_shipment_delay**: –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ FBS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π (–ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- **rating_ssl**: –û—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ FBO (—Å–∫–ª–∞–¥—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

### –°–∏—Å—Ç–µ–º–∞ Premium –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Premium —Å—Ç–∞—Ç—É—Å**: –ë–∞–∑–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–π—Ç–∏–Ω–≥–∞–º
- **Premium Plus —Å—Ç–∞—Ç—É—Å**: –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞
- **–®—Ç—Ä–∞—Ñ–Ω—ã–µ –±–∞–ª–ª—ã**: –°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã—Ö —à—Ç—Ä–∞—Ñ–æ–≤ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è
- **–ò–Ω–¥–µ–∫—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìö TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

```typescript
/**
 * –ó–∞–ø—Ä–æ—Å —Ç–µ–∫—É—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (–ø—É—Å—Ç–æ–π)
 * Current ratings request (empty)
 */
interface EmptyRequest {
  // –ó–∞–ø—Ä–æ—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
}

/**
 * –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞
 * Rating change status
 */
interface SellerRatingChange {
  /** 
   * –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   * DIRECTION_RISE - —É–ª—É—á—à–µ–Ω–∏–µ
   * DIRECTION_FALL - —É—Ö—É–¥—à–µ–Ω–∏–µ 
   * DIRECTION_NONE - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   */
  direction?: 'DIRECTION_UNKNOWN' | 'DIRECTION_NONE' | 'DIRECTION_RISE' | 'DIRECTION_FALL';
  
  /** 
   * –°–º—ã—Å–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞
   * MEANING_GOOD - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
   * MEANING_BAD - –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
   */
  meaning?: 'MEANING_UNKNOWN' | 'MEANING_NONE' | 'MEANING_GOOD' | 'MEANING_BAD';
  
  readonly [key: string]: unknown;
}

/**
 * –≠–ª–µ–º–µ–Ω—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
 * Detailed rating item
 */
interface SellerRatingItem {
  /** –°–∏—Å—Ç–µ–º–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ */
  rating?: string;
  
  /** –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ */
  name?: string;
  
  /** –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ */
  current_value?: number;
  
  /** –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è */
  past_value?: number;
  
  /** 
   * –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ (—á—Ç–æ –ª—É—á—à–µ)
   * HIGHER_IS_BETTER - —á–µ–º –≤—ã—à–µ, —Ç–µ–º –ª—É—á—à–µ
   * LOWER_IS_BETTER - —á–µ–º –Ω–∏–∂–µ, —Ç–µ–º –ª—É—á—à–µ
   */
  rating_direction?: 'UNKNOWN_DIRECTION' | 'NEUTRAL' | 'HIGHER_IS_BETTER' | 'LOWER_IS_BETTER';
  
  /** 
   * –°—Ç–∞—Ç—É—Å –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
   * OK - –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   * WARNING - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
   * CRITICAL - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
   */
  status?: 'UNKNOWN_STATUS' | 'OK' | 'WARNING' | 'CRITICAL';
  
  /** 
   * –¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
   * PERCENT - –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (%)
   * INDEX - –∏–Ω–¥–µ–∫—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   * TIME - –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   * RATIO - —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
   * REVIEW_SCORE - –æ—Ü–µ–Ω–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
   * COUNT - –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   */
  value_type?: 'UNKNOWN_VALUE' | 'INDEX' | 'PERCENT' | 'TIME' | 'RATIO' | 'REVIEW_SCORE' | 'COUNT';
  
  /** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ */
  change?: SellerRatingChange;
  
  readonly [key: string]: unknown;
}

/**
 * –ì—Ä—É–ø–ø–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
 * Functional rating group
 */
interface SellerRatingGroup {
  /** –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–æ—Å—Ç–∞–≤–∫–∞", "–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è") */
  group_name?: string;
  
  /** –°–ø–∏—Å–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –≤ –≥—Ä—É–ø–ø–µ */
  items?: SellerRatingItem[];
  
  readonly [key: string]: unknown;
}

/**
 * –ò–Ω–¥–µ–∫—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ü–∏–∏
 * Product localization index
 */
interface SellerLocalizationIndex {
  /** –î–∞—Ç–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–∞ */
  calculation_date?: string;
  
  /** –ü—Ä–æ—Ü–µ–Ω—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä—ë–º–∞ –ø—Ä–æ–¥–∞–∂ */
  localization_percentage?: number;
  
  readonly [key: string]: unknown;
}

/**
 * –û—Ç–≤–µ—Ç —Å —Ç–µ–∫—É—â–∏–º–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞
 * Current seller ratings response
 */
interface SellerRatingSummaryResponse {
  /** –ì—Ä—É–ø–ø—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π */
  groups?: SellerRatingGroup[];
  
  /** –î–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ */
  localization_index?: SellerLocalizationIndex[];
  
  /** –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏ –±–∞–ª–∞–Ω—Å —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ Premium */
  penalty_score_exceeded?: boolean;
  
  /** –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ Premium */
  premium?: boolean;
  
  /** –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ Premium Plus */
  premium_plus?: boolean;
  
  readonly [key: string]: unknown;
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

```typescript
/**
 * –¢–∏–ø—ã –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
 * Available rating types for monitoring
 */
type SellerRatingType = 
  // –î–æ—Å—Ç–∞–≤–∫–∞ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞
  | 'rating_on_time'                     // –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–∫–∞–∑–æ–≤ –≤–æ–≤—Ä–µ–º—è (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
  | 'rating_shipment_delay'              // –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ FBS
  | 'rating_on_time_supply_delivery'     // –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Å—Ç–∞–≤–æ–∫ –≤–æ–≤—Ä–µ–º—è
  | 'rating_on_time_supply_cancellation' // –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞—è–≤–æ–∫ –±–µ–∑ –æ–ø–æ–∑–¥–∞–Ω–∏—è
  
  // –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Å–µ—Ä–≤–∏—Å
  | 'rating_review_avg_score_total'      // –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
  | 'rating_ssl'                         // –û—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ FBO
  | 'rating_order_accuracy'              // –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Å—Ç–∞–≤–æ–∫ –±–µ–∑ –æ—à–∏–±–æ–∫
  
  // –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  | 'rating_order_cancellation'          // –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–º–µ–Ω FBS
  | 'rating_reaction_time'               // –í—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏ –≤ —á–∞—Ç–µ
  | 'rating_average_response_time'       // –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
  | 'rating_replied_dialogs_ratio'       // –î–æ–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ —Å –æ—Ç–≤–µ—Ç–æ–º
  
  // –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
  | 'rating_price';                      // –ò–Ω–¥–µ–∫—Å —Ü–µ–Ω

/**
 * –ó–∞–ø—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
 * Rating history request with filtering
 */
interface SellerRatingHistoryRequest {
  /** –ù–∞—á–∞–ª–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601) */
  date_from: string;
  
  /** –ö–æ–Ω–µ—Ü –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601) */
  date_to: string;
  
  /** –°–ø–∏—Å–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–º–æ–∂–Ω–æ –¥–æ 20 —Ç–∏–ø–æ–≤) */
  ratings: SellerRatingType[];
  
  /** –í–∫–ª—é—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–∞—Ö Premium */
  with_premium_scores?: boolean;
  
  readonly [key: string]: unknown;
}

/**
 * –°—Ç–∞—Ç—É—Å —Ä–µ–π—Ç–∏–Ω–≥–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
 * Rating status relative to thresholds
 */
interface SellerRatingStatus {
  /** –ü—Ä–µ–≤—ã—à–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏) */
  danger?: boolean;
  
  /** –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è Premium —Å—Ç–∞—Ç—É—Å–∞ */
  premium?: boolean;
  
  /** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é */
  warning?: boolean;
  
  readonly [key: string]: unknown;
}

/**
 * –ó–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
 * Rating value for specific period
 */
interface SellerRatingValue {
  /** –ù–∞—á–∞–ª–æ —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ */
  date_from?: string;
  
  /** –ö–æ–Ω–µ—Ü —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ */
  date_to?: string;
  
  /** –ó–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥ */
  value?: number;
  
  /** –°—Ç–∞—Ç—É—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π */
  status?: SellerRatingStatus;
  
  readonly [key: string]: unknown;
}

/**
 * –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–π—Ç–∏–Ω–≥–µ —Å –∏—Å—Ç–æ—Ä–∏–µ–π
 * Detailed rating information with history
 */
interface SellerRating {
  /** –°–∏—Å—Ç–µ–º–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ */
  rating?: string;
  
  /** –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º */
  values?: SellerRatingValue[];
  
  /** –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
  danger_threshold?: number;
  
  /** –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è Premium —Å—Ç–∞—Ç—É—Å–∞ */
  premium_threshold?: number;
  
  /** –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è */
  warning_threshold?: number;
  
  readonly [key: string]: unknown;
}

/**
 * –®—Ç—Ä–∞—Ñ–Ω–æ–π –±–∞–ª–ª Premium –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
 * Premium penalty score for specific period
 */
interface SellerPremiumScore {
  /** –î–∞—Ç–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ */
  date?: string;
  
  /** –ó–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞, –≤—ã–∑–≤–∞–≤—à–µ–µ —à—Ç—Ä–∞—Ñ */
  rating_value?: number;
  
  /** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ */
  value?: number;
  
  readonly [key: string]: unknown;
}

/**
 * –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–∞—Ö –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
 * Penalty scores information by rating
 */
interface SellerPremiumScores {
  /** –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ */
  rating?: string;
  
  /** –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ */
  scores?: SellerPremiumScore[];
  
  readonly [key: string]: unknown;
}

/**
 * –û—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞
 * Seller rating history response
 */
interface SellerRatingHistoryResponse {
  /** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö */
  ratings?: SellerRating[];
  
  /** –®—Ç—Ä–∞—Ñ–Ω—ã–µ –±–∞–ª–ª—ã Premium (–µ—Å–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω—ã) */
  premium_scores?: SellerPremiumScores[];
  
  readonly [key: string]: unknown;
}
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```typescript
import { SellerRatingApi } from 'daytona-ozon-seller-api';

const sellerRatingApi = new SellerRatingApi(httpClient);

/**
 * –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
 */
const analyzeCurrentPerformance = async (): Promise<{
  overallHealth: 'excellent' | 'good' | 'warning' | 'critical';
  criticalIssues: string[];
  recommendations: string[];
  premiumStatus: {
    isPremium: boolean;
    isPremiumPlus: boolean;
    penaltyRisk: boolean;
  };
  localizationCompliance: number | null;
}> => {
  try {
    const ratings = await sellerRatingApi.getCurrentRatings();
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    let criticalCount = 0;
    let warningCount = 0;
    let totalRatings = 0;
    const criticalIssues: string[] = [];
    const recommendations: string[] = [];
    
    ratings.groups?.forEach(group => {
      group.items?.forEach(item => {
        totalRatings++;
        
        if (item.status === 'CRITICAL') {
          criticalCount++;
          criticalIssues.push(`${item.name}: ${item.current_value} (–∫—Ä–∏—Ç–∏—á–Ω–æ!)`);
          
          // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
          if (item.rating === 'rating_on_time') {
            recommendations.push('–£–ª—É—á—à–∏—Ç–µ –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏');
          } else if (item.rating === 'rating_review_avg_score_total') {
            recommendations.push('–ü–æ–≤—ã—Å—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞');
          } else if (item.rating === 'rating_order_cancellation') {
            recommendations.push('–°–Ω–∏–∑—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–º–µ–Ω –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤');
          }
        } else if (item.status === 'WARNING') {
          warningCount++;
        }
      });
    });
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è
    let overallHealth: 'excellent' | 'good' | 'warning' | 'critical';
    if (criticalCount > 0) {
      overallHealth = 'critical';
    } else if (warningCount > totalRatings * 0.3) { // –ë–æ–ª–µ–µ 30% —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
      overallHealth = 'warning';
    } else if (warningCount > 0) {
      overallHealth = 'good';
    } else {
      overallHealth = 'excellent';
    }
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º Premium —Å—Ç–∞—Ç—É—Å
    const premiumStatus = {
      isPremium: ratings.premium || false,
      isPremiumPlus: ratings.premium_plus || false,
      penaltyRisk: ratings.penalty_score_exceeded || false
    };
    
    if (premiumStatus.penaltyRisk) {
      criticalIssues.push('–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ Premium');
      recommendations.push('–°—Ä–æ—á–Ω–æ —É–ª—É—á—à–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Premium —Å—Ç–∞—Ç—É—Å–∞');
    }
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
    const localizationCompliance = ratings.localization_index?.[0]?.localization_percentage || null;
    
    if (localizationCompliance !== null && localizationCompliance < 50) {
      recommendations.push('–£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ–ª—é –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º');
    }
    
    return {
      overallHealth,
      criticalIssues,
      recommendations,
      premiumStatus,
      localizationCompliance
    };
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤:', error);
    throw error;
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
const performanceReport = await analyzeCurrentPerformance();

console.log(`üè• –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: ${performanceReport.overallHealth.toUpperCase()}`);

if (performanceReport.criticalIssues.length > 0) {
  console.log('\nüö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´:');
  performanceReport.criticalIssues.forEach(issue => {
    console.log(`  ‚Ä¢ ${issue}`);
  });
}

console.log('\nüíé PREMIUM –°–¢–ê–¢–£–°:');
console.log(`  Premium: ${performanceReport.premiumStatus.isPremium ? '‚úÖ –ê–∫—Ç–∏–≤–µ–Ω' : '‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}`);
console.log(`  Premium Plus: ${performanceReport.premiumStatus.isPremiumPlus ? '‚úÖ –ê–∫—Ç–∏–≤–µ–Ω' : '‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}`);
console.log(`  –†–∏—Å–∫ —à—Ç—Ä–∞—Ñ–æ–≤: ${performanceReport.premiumStatus.penaltyRisk ? 'üö® –ï—Å—Ç—å' : '‚úÖ –ù–µ—Ç'}`);

if (performanceReport.localizationCompliance !== null) {
  console.log(`\nüåç –õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø: ${performanceReport.localizationCompliance}%`);
}

if (performanceReport.recommendations.length > 0) {
  console.log('\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:');
  performanceReport.recommendations.forEach(rec => {
    console.log(`  ‚Ä¢ ${rec}`);
  });
}
```

### –¢—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
/**
 * –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤
 */
const analyzeTrendsAndForecast = async (
  ratingTypes: SellerRatingType[],
  periodMonths: number = 3
): Promise<{
  trends: Array<{
    rating: string;
    trend: 'improving' | 'stable' | 'declining';
    risk: 'low' | 'medium' | 'high';
    prediction: number | null;
  }>;
  alerts: string[];
  recommendations: string[];
}> => {
  const endDate = new Date();
  const startDate = new Date();
  startDate.setMonth(startDate.getMonth() - periodMonths);
  
  try {
    const history = await sellerRatingApi.getRatingHistory({
      date_from: startDate.toISOString(),
      date_to: endDate.toISOString(),
      ratings: ratingTypes,
      with_premium_scores: true
    });
    
    const trends = [];
    const alerts: string[] = [];
    const recommendations: string[] = [];
    
    history.ratings?.forEach(rating => {
      if (!rating.values || rating.values.length < 2) return;
      
      // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –¥–∞—Ç–µ
      const sortedValues = rating.values
        .filter(v => v.value !== undefined)
        .sort((a, b) => new Date(a.date_from || '').getTime() - new Date(b.date_from || '').getTime());
      
      if (sortedValues.length < 2) return;
      
      // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—Ä–µ–Ω–¥
      const recentValues = sortedValues.slice(-5); // –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∑–Ω–∞—á–µ–Ω–∏–π
      const oldValues = sortedValues.slice(0, 5);   // –ü–µ—Ä–≤—ã–µ 5 –∑–Ω–∞—á–µ–Ω–∏–π
      
      const recentAvg = recentValues.reduce((sum, v) => sum + (v.value || 0), 0) / recentValues.length;
      const oldAvg = oldValues.reduce((sum, v) => sum + (v.value || 0), 0) / oldValues.length;
      
      const changePercent = oldAvg > 0 ? ((recentAvg - oldAvg) / oldAvg) * 100 : 0;
      
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç—Ä–µ–Ω–¥ (—É—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ –ª—É—á—à–µ - –≤—ã—à–µ –∏–ª–∏ –Ω–∏–∂–µ)
      const isHigherBetter = rating.rating !== 'rating_order_cancellation' && 
                           rating.rating !== 'rating_shipment_delay' &&
                           rating.rating !== 'rating_reaction_time' &&
                           rating.rating !== 'rating_average_response_time';
      
      let trend: 'improving' | 'stable' | 'declining';
      if (Math.abs(changePercent) < 2) {
        trend = 'stable';
      } else if ((changePercent > 0 && isHigherBetter) || (changePercent < 0 && !isHigherBetter)) {
        trend = 'improving';
      } else {
        trend = 'declining';
      }
      
      // –û—Ü–µ–Ω–∏–≤–∞–µ–º —Ä–∏—Å–∫
      const latestValue = sortedValues[sortedValues.length - 1];
      let risk: 'low' | 'medium' | 'high' = 'low';
      
      if (latestValue.status?.danger) {
        risk = 'high';
        alerts.push(`üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å: ${rating.rating}`);
      } else if (latestValue.status?.warning || trend === 'declining') {
        risk = 'medium';
        if (trend === 'declining') {
          alerts.push(`üìâ –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–¥: ${rating.rating}`);
        }
      }
      
      // –ü—Ä–æ—Å—Ç–æ–µ –ª–∏–Ω–µ–π–Ω–æ–µ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥
      let prediction: number | null = null;
      if (sortedValues.length >= 3) {
        const linearTrend = (recentAvg - oldAvg) / periodMonths;
        prediction = Math.round((recentAvg + linearTrend) * 100) / 100;
      }
      
      trends.push({
        rating: rating.rating || 'unknown',
        trend,
        risk,
        prediction
      });
      
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
      if (risk === 'high') {
        recommendations.push(`–°—Ä–æ—á–Ω–æ —É–ª—É—á—à–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å ${rating.rating}`);
      } else if (trend === 'declining') {
        recommendations.push(`–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å ${rating.rating} - –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞`);
      }
    });
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —à—Ç—Ä–∞—Ñ–Ω—ã–µ –±–∞–ª–ª—ã Premium
    if (history.premium_scores?.length > 0) {
      let totalPenaltyGrowth = 0;
      
      history.premium_scores.forEach(premiumScore => {
        const scores = premiumScore.scores || [];
        if (scores.length >= 2) {
          const recent = scores.slice(-2);
          const growth = recent[1].value! - recent[0].value!;
          totalPenaltyGrowth += growth;
        }
      });
      
      if (totalPenaltyGrowth > 0) {
        alerts.push(`üìà –†–æ—Å—Ç —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ Premium: +${totalPenaltyGrowth}`);
        recommendations.push('–°–Ω–∏–∑—å—Ç–µ —Ä–æ—Å—Ç —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Premium —Å—Ç–∞—Ç—É—Å–∞');
      }
    }
    
    return { trends, alerts, recommendations };
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤:', error);
    throw error;
  }
};

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
const trendAnalysis = await analyzeTrendsAndForecast([
  'rating_on_time',
  'rating_review_avg_score_total',
  'rating_order_cancellation',
  'rating_price'
], 6); // –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤

console.log('üìà –ê–ù–ê–õ–ò–ó –¢–†–ï–ù–î–û–í:');
trendAnalysis.trends.forEach(trend => {
  const trendIcon = trend.trend === 'improving' ? 'üìà' : 
                   trend.trend === 'declining' ? 'üìâ' : '‚û°Ô∏è';
  const riskIcon = trend.risk === 'high' ? 'üö®' : 
                  trend.risk === 'medium' ? '‚ö†Ô∏è' : '‚úÖ';
  
  console.log(`  ${trendIcon} ${riskIcon} ${trend.rating}: ${trend.trend}`);
  if (trend.prediction) {
    console.log(`    –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü: ${trend.prediction}`);
  }
});

if (trendAnalysis.alerts.length > 0) {
  console.log('\nüîî –ê–õ–ï–†–¢–´:');
  trendAnalysis.alerts.forEach(alert => console.log(`  ${alert}`));
}

if (trendAnalysis.recommendations.length > 0) {
  console.log('\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:');
  trendAnalysis.recommendations.forEach(rec => console.log(`  ‚Ä¢ ${rec}`));
}
```

### –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```typescript
/**
 * –°–∏—Å—Ç–µ–º–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
 * Continuous rating monitoring system
 */
class SellerRatingMonitor {
  private isMonitoring = false;
  private monitoringInterval: NodeJS.Timeout | null = null;
  private alertCallbacks: Array<(alert: RatingAlert) => void> = [];

  constructor(
    private readonly sellerRatingApi: SellerRatingApi,
    private readonly config: MonitoringConfig
  ) {}

  /**
   * –ó–∞–ø—É—Å–∫ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   */
  async startMonitoring(): Promise<void> {
    if (this.isMonitoring) return;
    
    console.log('üîÑ –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤...');
    this.isMonitoring = true;
    
    // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    await this.checkRatings();
    
    // –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
    this.monitoringInterval = setInterval(async () => {
      try {
        await this.checkRatings();
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:', error);
        this.notifyAlert({
          type: 'system_error',
          severity: 'high',
          message: `–û—à–∏–±–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: ${error}`,
          timestamp: new Date().toISOString()
        });
      }
    }, this.config.intervalMinutes * 60 * 1000);
  }

  /**
   * –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   */
  stopMonitoring(): void {
    if (!this.isMonitoring) return;
    
    console.log('‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤...');
    this.isMonitoring = false;
    
    if (this.monitoringInterval) {
      clearInterval(this.monitoringInterval);
      this.monitoringInterval = null;
    }
  }

  /**
   * –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
   */
  onAlert(callback: (alert: RatingAlert) => void): void {
    this.alertCallbacks.push(callback);
  }

  /**
   * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
   */
  private async checkRatings(): Promise<void> {
    const ratings = await this.sellerRatingApi.getCurrentRatings();
    const alerts: RatingAlert[] = [];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —à—Ç—Ä–∞—Ñ–Ω—ã–µ –±–∞–ª–ª—ã
    if (ratings.penalty_score_exceeded) {
      alerts.push({
        type: 'penalty_exceeded',
        severity: 'critical',
        message: '–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –±–∞–ª–ª–æ–≤ Premium',
        timestamp: new Date().toISOString(),
        data: { penalty_exceeded: true }
      });
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ç–µ—Ä—é Premium —Å—Ç–∞—Ç—É—Å–∞
    if (!ratings.premium && this.config.monitorPremiumLoss) {
      alerts.push({
        type: 'premium_lost',
        severity: 'high',
        message: '–ü–æ—Ç–µ—Ä—è–Ω —Å—Ç–∞—Ç—É—Å Premium',
        timestamp: new Date().toISOString(),
        data: { premium_status: false }
      });
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏
    ratings.groups?.forEach(group => {
      group.items?.forEach(item => {
        if (item.status === 'CRITICAL') {
          alerts.push({
            type: 'critical_rating',
            severity: 'critical',
            message: `–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ${item.name} = ${item.current_value}`,
            timestamp: new Date().toISOString(),
            data: {
              rating: item.rating,
              name: item.name,
              value: item.current_value,
              previous_value: item.past_value
            }
          });
        } else if (item.status === 'WARNING' && this.config.alertOnWarnings) {
          alerts.push({
            type: 'warning_rating',
            severity: 'medium',
            message: `–†–µ–π—Ç–∏–Ω–≥ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è: ${item.name} = ${item.current_value}`,
            timestamp: new Date().toISOString(),
            data: {
              rating: item.rating,
              name: item.name,
              value: item.current_value,
              previous_value: item.past_value
            }
          });
        }
      });
    });

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–ª–µ—Ä—Ç—ã
    alerts.forEach(alert => this.notifyAlert(alert));
  }

  /**
   * –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
   */
  private notifyAlert(alert: RatingAlert): void {
    this.alertCallbacks.forEach(callback => {
      try {
        callback(alert);
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–ª–µ—Ä—Ç–∞:', error);
      }
    });
  }
}

// –¢–∏–ø—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
interface MonitoringConfig {
  intervalMinutes: number;
  monitorPremiumLoss: boolean;
  alertOnWarnings: boolean;
}

interface RatingAlert {
  type: 'critical_rating' | 'warning_rating' | 'penalty_exceeded' | 'premium_lost' | 'system_error';
  severity: 'low' | 'medium' | 'high' | 'critical';
  message: string;
  timestamp: string;
  data?: any;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
const monitor = new SellerRatingMonitor(sellerRatingApi, {
  intervalMinutes: 60, // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
  monitorPremiumLoss: true,
  alertOnWarnings: true
});

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤
monitor.onAlert((alert) => {
  console.log(`üîî –ê–õ–ï–†–¢ [${alert.severity.toUpperCase()}]: ${alert.message}`);
  
  // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  if (alert.severity === 'critical') {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Slack, email, Telegram –∏ —Ç.–¥.
    sendCriticalNotification(alert);
  }
  
  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  logToMonitoringSystem(alert);
});

// –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
await monitor.startMonitoring();

// –§—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä—ã)
async function sendCriticalNotification(alert: RatingAlert): Promise<void> {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  console.log(`üìß –û—Ç–ø—Ä–∞–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: ${alert.message}`);
}

async function logToMonitoringSystem(alert: RatingAlert): Promise<void> {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  console.log(`üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: ${alert.type}`);
}
```

---

## üöÄ –ö–ª–∞—Å—Å RatingPerformanceAnalyzer –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```typescript
/**
 * –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π
 * Rating performance analyzer with automation
 */
export class RatingPerformanceAnalyzer {
  private readonly cache: Map<string, { data: any; expires: number }> = new Map();
  private readonly cacheTTL = 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç

  constructor(
    private readonly sellerRatingApi: SellerRatingApi
  ) {}

  /**
   * –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   * Comprehensive performance analysis
   */
  async analyzePerformance(options: PerformanceAnalysisOptions = {}): Promise<PerformanceReport> {
    const {
      includeHistory = true,
      historyMonths = 3,
      includePrediction = true,
      includeRecommendations = true
    } = options;

    const report: PerformanceReport = {
      timestamp: new Date().toISOString(),
      current: await this.getCurrentPerformance(),
      history: null,
      trends: null,
      predictions: null,
      recommendations: [],
      alerts: []
    };

    // –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    if (includeHistory) {
      const endDate = new Date();
      const startDate = new Date();
      startDate.setMonth(startDate.getMonth() - historyMonths);

      report.history = await this.getHistoricalAnalysis(startDate, endDate);
      report.trends = this.analyzeTrends(report.history);
    }

    // –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
    if (includePrediction && report.trends) {
      report.predictions = this.generatePredictions(report.trends);
    }

    // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    if (includeRecommendations) {
      report.recommendations = this.generateRecommendations(report);
    }

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∞–ª–µ—Ä—Ç—ã
    report.alerts = this.generateAlerts(report);

    return report;
  }

  /**
   * –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   * Current state analysis
   */
  private async getCurrentPerformance(): Promise<CurrentPerformance> {
    const cacheKey = 'current_performance';
    const cached = this.cache.get(cacheKey);

    if (cached && cached.expires > Date.now()) {
      return cached.data;
    }

    const ratings = await this.sellerRatingApi.getCurrentRatings();
    
    const performance: CurrentPerformance = {
      overall_score: 0,
      health_status: 'unknown',
      premium_status: {
        is_premium: ratings.premium || false,
        is_premium_plus: ratings.premium_plus || false,
        penalty_risk: ratings.penalty_score_exceeded || false
      },
      localization_index: ratings.localization_index?.[0]?.localization_percentage || null,
      critical_count: 0,
      warning_count: 0,
      ok_count: 0,
      groups: []
    };

    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≥—Ä—É–ø–ø—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
    ratings.groups?.forEach(group => {
      const groupAnalysis: GroupPerformance = {
        name: group.group_name || 'Unknown',
        score: 0,
        items: []
      };

      let groupScore = 0;
      let itemCount = 0;

      group.items?.forEach(item => {
        itemCount++;
        
        // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã
        if (item.status === 'CRITICAL') {
          performance.critical_count++;
        } else if (item.status === 'WARNING') {
          performance.warning_count++;
        } else {
          performance.ok_count++;
        }

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º score —ç–ª–µ–º–µ–Ω—Ç–∞ (0-100)
        let itemScore = 50; // –±–∞–∑–æ–≤—ã–π score
        if (item.status === 'OK') itemScore = 100;
        else if (item.status === 'WARNING') itemScore = 60;
        else if (item.status === 'CRITICAL') itemScore = 10;

        groupScore += itemScore;

        groupAnalysis.items.push({
          name: item.name || 'Unknown',
          rating: item.rating || 'unknown',
          current_value: item.current_value || 0,
          previous_value: item.past_value || 0,
          status: item.status || 'UNKNOWN_STATUS',
          score: itemScore,
          trend: this.calculateItemTrend(item)
        });
      });

      groupAnalysis.score = itemCount > 0 ? Math.round(groupScore / itemCount) : 0;
      performance.groups.push(groupAnalysis);
    });

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–∏–π score
    const totalItems = performance.critical_count + performance.warning_count + performance.ok_count;
    if (totalItems > 0) {
      performance.overall_score = Math.round(
        ((performance.ok_count * 100) + (performance.warning_count * 60) + (performance.critical_count * 10)) / totalItems
      );
    }

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è
    if (performance.critical_count > 0) {
      performance.health_status = 'critical';
    } else if (performance.warning_count > totalItems * 0.3) {
      performance.health_status = 'warning';
    } else if (performance.warning_count > 0) {
      performance.health_status = 'good';
    } else {
      performance.health_status = 'excellent';
    }

    // –ö—ç—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    this.cache.set(cacheKey, {
      data: performance,
      expires: Date.now() + this.cacheTTL
    });

    return performance;
  }

  /**
   * –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
   * Historical analysis
   */
  private async getHistoricalAnalysis(startDate: Date, endDate: Date): Promise<HistoricalAnalysis> {
    const allRatingTypes: SellerRatingType[] = [
      'rating_on_time',
      'rating_review_avg_score_total',
      'rating_price',
      'rating_order_cancellation',
      'rating_shipment_delay',
      'rating_ssl'
    ];

    const history = await this.sellerRatingApi.getRatingHistory({
      date_from: startDate.toISOString(),
      date_to: endDate.toISOString(),
      ratings: allRatingTypes,
      with_premium_scores: true
    });

    const analysis: HistoricalAnalysis = {
      period: {
        start: startDate.toISOString(),
        end: endDate.toISOString()
      },
      ratings: [],
      premium_penalties: {
        total_penalties: 0,
        penalty_trend: 'stable'
      }
    };

    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π —Ä–µ–π—Ç–∏–Ω–≥
    history.ratings?.forEach(rating => {
      if (!rating.values || rating.values.length === 0) return;

      const sortedValues = rating.values
        .filter(v => v.value !== undefined)
        .sort((a, b) => new Date(a.date_from || '').getTime() - new Date(b.date_from || '').getTime());

      if (sortedValues.length === 0) return;

      const ratingAnalysis: RatingHistoricalAnalysis = {
        name: rating.rating || 'unknown',
        thresholds: {
          danger: rating.danger_threshold || 0,
          warning: rating.warning_threshold || 0,
          premium: rating.premium_threshold || 0
        },
        values: sortedValues.map(v => ({
          date: v.date_from || '',
          value: v.value || 0,
          status: {
            is_danger: v.status?.danger || false,
            is_warning: v.status?.warning || false,
            is_premium: v.status?.premium || false
          }
        })),
        statistics: this.calculateStatistics(sortedValues)
      };

      analysis.ratings.push(ratingAnalysis);
    });

    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —à—Ç—Ä–∞—Ñ–Ω—ã–µ –±–∞–ª–ª—ã
    if (history.premium_scores) {
      let totalPenalties = 0;
      history.premium_scores.forEach(premiumScore => {
        premiumScore.scores?.forEach(score => {
          totalPenalties += score.value || 0;
        });
      });

      analysis.premium_penalties.total_penalties = totalPenalties;
      
      // –ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞ —à—Ç—Ä–∞—Ñ–æ–≤ (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
      if (history.premium_scores.length > 0) {
        const recentScores = history.premium_scores[0].scores?.slice(-2) || [];
        if (recentScores.length === 2) {
          const trend = recentScores[1].value! - recentScores[0].value!;
          analysis.premium_penalties.penalty_trend = 
            trend > 0 ? 'increasing' : trend < 0 ? 'decreasing' : 'stable';
        }
      }
    }

    return analysis;
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã...
  private calculateItemTrend(item: any): 'improving' | 'stable' | 'declining' {
    if (!item.current_value || !item.past_value) return 'stable';
    
    const change = ((item.current_value - item.past_value) / item.past_value) * 100;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —á—Ç–æ –ª—É—á—à–µ - –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ
    const isHigherBetter = !['rating_order_cancellation', 'rating_shipment_delay', 
                            'rating_reaction_time', 'rating_average_response_time'].includes(item.rating);
    
    if (Math.abs(change) < 2) return 'stable';
    
    return ((change > 0 && isHigherBetter) || (change < 0 && !isHigherBetter)) ? 
           'improving' : 'declining';
  }

  private calculateStatistics(values: any[]): RatingStatistics {
    const nums = values.map(v => v.value || 0);
    
    return {
      min: Math.min(...nums),
      max: Math.max(...nums),
      avg: nums.reduce((a, b) => a + b, 0) / nums.length,
      trend: this.calculateTrend(nums),
      volatility: this.calculateVolatility(nums)
    };
  }

  private calculateTrend(values: number[]): number {
    if (values.length < 2) return 0;
    
    // –ü—Ä–æ—Å—Ç–∞—è –ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
    const n = values.length;
    let sumX = 0, sumY = 0, sumXY = 0, sumXX = 0;
    
    for (let i = 0; i < n; i++) {
      sumX += i;
      sumY += values[i];
      sumXY += i * values[i];
      sumXX += i * i;
    }
    
    const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);
    return slope;
  }

  private calculateVolatility(values: number[]): number {
    if (values.length < 2) return 0;
    
    const avg = values.reduce((a, b) => a + b, 0) / values.length;
    const variance = values.reduce((acc, val) => acc + Math.pow(val - avg, 2), 0) / values.length;
    
    return Math.sqrt(variance);
  }
}

// –¢–∏–ø—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
interface PerformanceAnalysisOptions {
  includeHistory?: boolean;
  historyMonths?: number;
  includePrediction?: boolean;
  includeRecommendations?: boolean;
}

interface PerformanceReport {
  timestamp: string;
  current: CurrentPerformance;
  history: HistoricalAnalysis | null;
  trends: TrendAnalysis | null;
  predictions: PredictionAnalysis | null;
  recommendations: string[];
  alerts: string[];
}

interface CurrentPerformance {
  overall_score: number;
  health_status: 'excellent' | 'good' | 'warning' | 'critical' | 'unknown';
  premium_status: {
    is_premium: boolean;
    is_premium_plus: boolean;
    penalty_risk: boolean;
  };
  localization_index: number | null;
  critical_count: number;
  warning_count: number;
  ok_count: number;
  groups: GroupPerformance[];
}

interface GroupPerformance {
  name: string;
  score: number;
  items: ItemPerformance[];
}

interface ItemPerformance {
  name: string;
  rating: string;
  current_value: number;
  previous_value: number;
  status: string;
  score: number;
  trend: 'improving' | 'stable' | 'declining';
}

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞...
interface HistoricalAnalysis {
  period: { start: string; end: string };
  ratings: RatingHistoricalAnalysis[];
  premium_penalties: {
    total_penalties: number;
    penalty_trend: 'increasing' | 'stable' | 'decreasing';
  };
}

interface RatingHistoricalAnalysis {
  name: string;
  thresholds: {
    danger: number;
    warning: number;
    premium: number;
  };
  values: Array<{
    date: string;
    value: number;
    status: {
      is_danger: boolean;
      is_warning: boolean;
      is_premium: boolean;
    };
  }>;
  statistics: RatingStatistics;
}

interface RatingStatistics {
  min: number;
  max: number;
  avg: number;
  trend: number;
  volatility: number;
}

interface TrendAnalysis {
  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–¥–∞—Ö
}

interface PredictionAnalysis {
  // –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–¥–∞—Ö
}
```

---

## üí° –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```typescript
/**
 * –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
 * Integration with various notification systems
 */
class RatingNotificationService {
  constructor(
    private readonly config: NotificationConfig
  ) {}

  async sendRatingAlert(alert: RatingAlert): Promise<void> {
    const promises: Promise<void>[] = [];

    // Slack —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if (this.config.slack?.enabled) {
      promises.push(this.sendSlackNotification(alert));
    }

    // Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if (this.config.email?.enabled) {
      promises.push(this.sendEmailNotification(alert));
    }

    // Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
    if (this.config.telegram?.enabled) {
      promises.push(this.sendTelegramNotification(alert));
    }

    // SMS –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤
    if (this.config.sms?.enabled && alert.severity === 'critical') {
      promises.push(this.sendSMSNotification(alert));
    }

    await Promise.allSettled(promises);
  }

  private async sendSlackNotification(alert: RatingAlert): Promise<void> {
    const color = {
      'critical': '#ff0000',
      'high': '#ff9900', 
      'medium': '#ffcc00',
      'low': '#00ff00'
    }[alert.severity];

    const payload = {
      text: `Seller Rating Alert: ${alert.message}`,
      attachments: [{
        color,
        fields: [
          { title: 'Severity', value: alert.severity, short: true },
          { title: 'Type', value: alert.type, short: true },
          { title: 'Timestamp', value: alert.timestamp, short: true }
        ]
      }]
    };

    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Slack webhook
    await fetch(this.config.slack!.webhook, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });
  }

  private async sendEmailNotification(alert: RatingAlert): Promise<void> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    console.log(`üìß Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: ${alert.message}`);
  }

  private async sendTelegramNotification(alert: RatingAlert): Promise<void> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    console.log(`üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: ${alert.message}`);
  }

  private async sendSMSNotification(alert: RatingAlert): Promise<void> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤
    console.log(`üì≤ SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: ${alert.message}`);
  }
}

interface NotificationConfig {
  slack?: { enabled: boolean; webhook: string };
  email?: { enabled: boolean; smtp: any };
  telegram?: { enabled: boolean; botToken: string; chatId: string };
  sms?: { enabled: boolean; provider: any };
}
```

### –î–∞—à–±–æ—Ä–¥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
/**
 * –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤
 * Dashboard data generator
 */
class RatingDashboardGenerator {
  constructor(
    private readonly analyzer: RatingPerformanceAnalyzer
  ) {}

  async generateDashboardData(): Promise<DashboardData> {
    const report = await this.analyzer.analyzePerformance({
      includeHistory: true,
      historyMonths: 6,
      includePrediction: true,
      includeRecommendations: true
    });

    return {
      overview: {
        score: report.current.overall_score,
        status: report.current.health_status,
        premium: report.current.premium_status,
        localization: report.current.localization_index
      },
      metrics: this.prepareMetricsData(report.current),
      charts: this.prepareChartsData(report.history),
      alerts: report.alerts,
      recommendations: report.recommendations,
      lastUpdated: report.timestamp
    };
  }

  private prepareMetricsData(current: CurrentPerformance): MetricsData {
    return {
      totalRatings: current.critical_count + current.warning_count + current.ok_count,
      criticalCount: current.critical_count,
      warningCount: current.warning_count,
      okCount: current.ok_count,
      healthDistribution: {
        excellent: current.health_status === 'excellent' ? 1 : 0,
        good: current.health_status === 'good' ? 1 : 0, 
        warning: current.health_status === 'warning' ? 1 : 0,
        critical: current.health_status === 'critical' ? 1 : 0
      }
    };
  }

  private prepareChartsData(history: HistoricalAnalysis | null): ChartsData | null {
    if (!history) return null;

    return {
      timeSeriesData: history.ratings.map(rating => ({
        name: rating.name,
        data: rating.values.map(v => ({
          x: new Date(v.date).getTime(),
          y: v.value
        }))
      })),
      thresholdLines: history.ratings.reduce((acc, rating) => {
        acc[rating.name] = {
          danger: rating.thresholds.danger,
          warning: rating.thresholds.warning,
          premium: rating.thresholds.premium
        };
        return acc;
      }, {} as Record<string, any>)
    };
  }
}

interface DashboardData {
  overview: {
    score: number;
    status: string;
    premium: any;
    localization: number | null;
  };
  metrics: MetricsData;
  charts: ChartsData | null;
  alerts: string[];
  recommendations: string[];
  lastUpdated: string;
}

interface MetricsData {
  totalRatings: number;
  criticalCount: number;
  warningCount: number;
  okCount: number;
  healthDistribution: Record<string, number>;
}

interface ChartsData {
  timeSeriesData: Array<{
    name: string;
    data: Array<{ x: number; y: number }>;
  }>;
  thresholdLines: Record<string, any>;
}
```

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, —Ç—Ä–µ–Ω–¥–æ–≤—ã–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏. –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
